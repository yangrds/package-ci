import{a as he,l as it,d as ct,b as X,o as se,E as S,c as E,e as H,u as me,r as $,f as C,g as e,t as n,h as Pe,i as Se,w as ge,j as s,k as t,m as z,n as dt,p as Ye,q as J,s as Ee,v as ae,x as ue,y as P,z as Oe,A as l,B as Ge,C as B,D as Ce,F as q,G as te,H as ne,I as xe,J as Qe,K as rt,L as We,M as _t,N as Ke,O as pt,P as mt,Q as ft,R as ht,S as vt}from"./vendor.083adf18.js";const gt=function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const p of o)if(p.type==="childList")for(const f of p.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function F(o){const p={};return o.integrity&&(p.integrity=o.integrity),o.referrerpolicy&&(p.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?p.credentials="include":o.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function i(o){if(o.ep)return;o.ep=!0;const p=F(o);fetch(o.href,p)}};gt();he.defaults.baseURL="/";he.defaults.timeout=1e5;he.defaults.headers={"Access-Control-Allow-Origin":"*","Content-Type":"application/json"};he.defaults.validateStatus=function(a){return!!a};he.defaults.paramsSerializer=function(a){return it.stringify(a)};he.defaults.transformRequest=[function(a){const m=a||{};return a instanceof window.FormData?a:JSON.stringify(m)}];function Et({url:a,params:m={},option:F}){if(F)for(const i in F)he.defaults[i]=F[i];return new Promise((i,o)=>{he.get(a,{params:m}).then(p=>{i(p.data)}).catch(p=>{o(p)})})}function R({url:a,body:m={},params:F={},option:i,onUploadProgress:o}){if(i)for(const p in i)he.defaults[p]=i[p];return new Promise((p,f)=>{he.post(a,m,{params:F,onUploadProgress:o,timeout:35e6}).then(y=>{p(y.data)}).catch(y=>{f(y)})})}const Q="https://package-api.js-vue.com/",Ft=a=>R({url:`${Q}members/create`,body:a}),Fe=a=>R({url:`${Q}members/read`,body:a}),wt=a=>R({url:`${Q}members/delete`,body:a}),Je=a=>R({url:`${Q}members/update`,body:a}),qe=a=>R({url:`${Q}members/user-info`,body:a}),At=a=>Et({url:`${Q}members/login`,params:a}),bt=a=>R({url:`${Q}command/add`,body:a}),$t=a=>R({url:`${Q}command/list`,body:a}),yt=a=>R({url:`${Q}command/remove`,body:a}),Dt=a=>R({url:`${Q}project/create`,body:a}),Bt=a=>R({url:`${Q}project/read`,body:a}),Ct=a=>R({url:`${Q}project/remove`,body:a}),xt=a=>R({url:`${Q}project/details`,body:a}),kt=a=>R({url:`${Q}project/server-update`,body:a}),St=a=>R({url:`${Q}project/update`,body:a}),jt=a=>R({url:`${Q}project/local-checkout`,body:a}),Tt=a=>R({url:`${Q}project/local-version`,body:a}),Vt=a=>R({url:`${Q}project/origin-branch`,body:a}),It=a=>R({url:`${Q}project/origin-pull`,body:a}),Xe=a=>R({url:`${Q}project/local-branch`,body:a}),Mt=a=>R({url:`${Q}project/checkout-origin`,body:a}),Ut=a=>R({url:`${Q}project/delete-branch`,body:a}),zt=a=>R({url:`${Q}project/build-version`,body:a}),Pt=a=>R({url:`${Q}project/read-version`,body:a}),Qt=a=>R({url:`${Q}release/dev-release`,body:a}),Nt=a=>R({url:`${Q}release/test-release`,body:a}),Rt=a=>R({url:`${Q}release/uat-release`,body:a}),Ht=a=>R({url:`${Q}release/prod-release`,body:a}),Lt=a=>R({url:`${Q}process/prod-create`,body:a}),Yt=a=>R({url:`${Q}process/test-create`,body:a}),Ot=a=>R({url:`${Q}process/uat-create`,body:a}),Ze=a=>R({url:`${Q}process/test-list`,body:a}),et=a=>R({url:`${Q}process/uat-list`,body:a}),tt=a=>R({url:`${Q}process/prod-list`,body:a}),Gt=a=>R({url:`${Q}process/test-task`,body:a}),Wt=a=>R({url:`${Q}process/uat-task`,body:a}),Kt=a=>R({url:`${Q}process/prod-task`,body:a}),je=a=>R({url:`${Q}process/task-update`,body:a}),Jt=a=>R({url:`${Q}release/release-list`,body:a}),qt=a=>R({url:`${Q}cluster/load-config`,body:a}),Xt=a=>R({url:`${Q}cluster/cluster-create`,body:a}),st=a=>R({url:`${Q}cluster/cluster-list`,body:a}),Zt=a=>R({url:`${Q}cluster/cluster-remove`,body:a}),es=a=>R({url:`${Q}cluster/process-list`,body:a}),ts=a=>R({url:`${Q}cluster/process-kill`,body:a}),ss=a=>R({url:`${Q}cluster/process-kill-all`,body:a}),ls=a=>R({url:`${Q}cluster/process-init`,body:a}),os=a=>R({url:`${Q}cluster/process-start`,body:a}),de=ct("counter",{state:()=>({loading:!1,personal:{account:"",access:"0",beforePwd:"",pwd:"",name:"",jobName:"",remark:"",job_id:""}}),actions:{setLoad(a){this.loading=a},async user_details(){const a=await qe();if(a.code===200){for(const m in a.data)this.personal[m]=a.data[m];console.log(this.personal)}},permission(a,m){let F=this.personal.job_id;return m.indexOf("qa")!=-1&&F===a.qa||m.indexOf("pm")!=-1&&F===a.pm||m.indexOf("dev")!=-1&&a.devs.indexOf(F)!=-1}}});const as=X({setup(a){const m=de(),F=me();return localStorage.getItem("token")||F.push("login"),se(()=>{m.user_details()}),he.interceptors.request.use(o=>{const p=localStorage.getItem("token");return p&&(o.headers.token=p),o},o=>Promise.reject(o)),he.interceptors.response.use(o=>(o.data.code===304&&F.push("/login"),o.data.code!=200&&S.error(o.data.msg),o),o=>Promise.reject(o)),(o,p)=>{const f=$("router-view");return E(),H(f)}}});var Z=(a,m)=>{const F=a.__vccOpts||a;for(const[i,o]of m)F[i]=o;return F};const us={class:"modal-view"},ns={class:"modal-header"},is={class:"modal-title"},cs=X({props:{title:{default:""}},setup(a){return(m,F)=>(E(),C("div",us,[e("div",ns,[e("div",is,[e("span",null,n(a.title),1)]),Pe(m.$slots,"modal-operate",{},void 0,!0)]),Pe(m.$slots,"modal-body",{},void 0,!0)]))}});var Ne=Z(cs,[["__scopeId","data-v-ab8adbc4"]]);const ds={class:"content"},rs=X({setup(a){const m=de();return(F,i)=>{const o=$("router-view"),p=Se("load");return ge((E(),C("div",ds,[t(o)])),[[p,s(m).loading]])}}});var _s=Z(rs,[["__scopeId","data-v-04471c53"]]),ps="/static/images/min.png",ms="/static/images/ress.png",fs="/static/images/max.png",hs="/static/images/close.png";function vs(a,m){a.stopPropagation();const F=typeof m=="string"?document.querySelector(`#${m}`):m;F.style.zIndex=Math.round(new Date/1e3).toString();const i=a.pageX-F.getBoundingClientRect().left,o=a.pageY-F.getBoundingClientRect().top;function p(y){const I=y.pageY-o,V=y.pageX-i;F.style.transition="none",F.style.left=(V<=0?-4:V)+"px",F.style.top=(I<=0?-4:I)+"px"}function f(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",f)}document.addEventListener("mousemove",p),document.addEventListener("mouseup",f)}const gs=a=>(ae("data-v-fc187b08"),a=a(),ue(),a),Es={class:"header-left"},Fs=["src"],ws={class:"header-right"},As=gs(()=>e("img",{src:ps},null,-1)),bs=["onClick"],$s={class:"ModalBox-main"},ys=["onMousedown"],Ds=X({props:{config:{default(){return{}}}},emits:["close","resize"],setup(a,{emit:m}){const F=a,i=z(null),o=z(!1);let p={left:0,top:0,width:0,height:""};dt(o,v=>{i.value.style.zIndex=Math.round(new Date/1e3).toString(),v?(p={left:i.value.offsetLeft,top:i.value.offsetTop,width:i.value.offsetWidth,height:i.value.offsetHeight},i.value.style.transition="0.3s",i.value.style.width=document.body.offsetWidth+"px",i.value.style.height=document.body.offsetHeight+"px",i.value.style.left="0px",i.value.style.top="0px"):(i.value.style.transition="0.3s",i.value.style.width=p.width+"px",i.value.style.height=p.height+"px",i.value.style.left=p.left+"px",i.value.style.top=p.top+"px")}),se(()=>{i.value.style.width=F.config.width+"px",i.value.style.height=F.config.height+"px",i.value.style.zIndex=Math.round(new Date/1e3).toString(),window.addEventListener("resize",f)});function f(){o.value&&(i.value.style.transition="0.3s",i.value.style.width=document.body.offsetWidth+"px",i.value.style.height=document.body.offsetHeight+"px",i.value.style.left="0px",i.value.style.top="0px")}Ye(()=>{window.removeEventListener("resize",f)});function y(v){v.stopPropagation();const b=i.value,{left:d,top:u}=b.getBoundingClientRect();function c(r){r.stopPropagation();let _=r.pageX-(d-4),w=r.pageY-(u-4);b.style.transition="none",b.style.width=(_<460?b.offsetWidth:_)+"px",b.style.height=(w<360?b.offsetHeight:w)+"px",m("resize")}function g(){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",g)}document.addEventListener("mousemove",c),document.addEventListener("mouseup",g)}function I(){o.value=!o.value;let v=setTimeout(()=>{clearTimeout(v),m("resize")},200)}function V(){i.value.style.zIndex=Math.round(new Date/1e3).toString()}function x(){i.value.style.transition="0.3s",i.value.style.transform="scale(0.8)",i.value.style.opacity="0";let v=setTimeout(()=>{clearTimeout(v),m("close")},200)}return(v,b)=>(E(),C("div",{class:"ModalBox","data-id":"sdjkfhskjgsdjk",ref_key:"ModalBox",ref:i,onClick:V},[e("div",{class:"header",onMousedown:b[2]||(b[2]=Ee(d=>s(vs)(d,i.value),["prevent","stop"]))},[e("div",Es,[a.config.icon?(E(),C("img",{key:0,src:a.config.icon},null,8,Fs)):J("",!0),e("span",null,n(a.config.title),1)]),e("div",ws,[As,o.value?(E(),C("img",{key:0,src:ms,onMousedown:b[0]||(b[0]=Ee(()=>{},["prevent","stop"])),onClick:I},null,32)):(E(),C("img",{key:1,src:fs,onMousedown:b[1]||(b[1]=Ee(()=>{},["prevent","stop"])),onClick:I},null,32)),e("img",{src:hs,onClick:Ee(x,["stop"])},null,8,bs)])],32),e("div",$s,[Pe(v.$slots,"main",{},void 0,!0)]),e("span",{class:"iconfont icon-shurukuanglashen",onMousedown:Ee(y,["stop"])},null,40,ys)],512))}});var Ae=Z(Ds,[["__scopeId","data-v-fc187b08"]]),Bs="data:image/png;base64,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",Cs="data:image/png;base64,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",xs="data:image/png;base64,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",ks="/assets/avatar.0dd5877b.svg",lt="/assets/gy.b1188c89.svg",Ss="/assets/qp.9109b21e.svg",js="/assets/out.86cda219.svg";const le=a=>(ae("data-v-468baf4d"),a=a(),ue(),a),Ts={class:"Header"},Vs={class:"header-info"},Is=le(()=>e("div",{class:"login-title"},[e("img",{src:Bs}),e("span",null,"PACKAGE-CI")],-1)),Ms={class:"header-options"},Us=le(()=>e("a",{href:"https://js-vue.com/",target:"_blank",class:"options-child"},[e("img",{src:Cs}),e("span",null,"\u535A\u5BA2\u6587\u6863")],-1)),zs=le(()=>e("a",{href:"#",target:"_blank",class:"options-child"},[e("img",{src:xs}),e("span",null,"\u5F00\u6E90\u793E\u533A")],-1)),Ps=le(()=>e("img",{src:ks},null,-1)),Qs={class:"user-info"},Ns={class:"options"},Rs=le(()=>e("img",{src:lt},null,-1)),Hs=le(()=>e("span",null,"\u4E2A\u4EBA\u8BBE\u7F6E",-1)),Ls=[Rs,Hs],Ys=le(()=>e("img",{src:Ss},null,-1)),Os=le(()=>e("img",{src:lt},null,-1)),Gs=le(()=>e("span",null,"\u5173\u4E8E",-1)),Ws=[Os,Gs],Ks=le(()=>e("img",{src:js},null,-1)),Js=le(()=>e("span",null,"\u9000\u51FA\u767B\u5F55",-1)),qs=[Ks,Js],Xs={class:"evn-dialog"},Zs={class:"modal-body"},el={class:"modal-child"},tl=le(()=>e("span",{class:"label"},"*\u4E2A\u4EBA\u6635\u79F0",-1)),sl={class:"modal-child"},ll=le(()=>e("span",{class:"label"},"\xA0\u7528\u6237\u540D",-1)),ol={class:"text"},al={class:"modal-child"},ul=le(()=>e("span",{class:"label"},"\xA0\u6743\u9650",-1)),nl={class:"text"},il={class:"modal-child"},cl=le(()=>e("span",{class:"label"},"\xA0\u6210\u5458ID",-1)),dl={class:"text"},rl={class:"modal-child"},_l=le(()=>e("span",{class:"label"},"*\u56E2\u961F\u804C\u4F4D",-1)),pl={class:"modal-child"},ml=le(()=>e("span",{class:"label"},"\xA0\u4FEE\u6539\u5BC6\u7801",-1)),fl={class:"modal-child"},hl={class:"modal-child"},vl=le(()=>e("span",{class:"label"},"*\u5907\u6CE8\u4FE1\u606F",-1)),gl={class:"dialog-bottom"},El=B("\u5173\u95ED"),Fl=B("\u4FDD\u5B58"),wl={class:"about"},Al=le(()=>e("div",{class:"title"},[e("span",null,"PACKAGE-CI"),e("span",null,"\u524D\u7AEFDevOps")],-1)),bl=le(()=>e("div",{class:"author"},[e("span",null,"PACKAGE-CI\u5F00\u6E90\u4F5C\u8005"),e("span",null,"\u68A6\u5BA2")],-1)),$l=X({setup(a){const m=de(),F=z(!1),i=z(!1);window.addEventListener("click",g=>{F.value=!1});const o=P({access:"",account:"",beforePwd:"",pwd:"",name:"",jobName:"",remark:"",job_id:""}),p=z(`
    PACKAGE-CI\u662F\u4E00\u6B3E\u4E13\u6CE8\u4E8E\u524D\u7AEF\u9886\u57DF\u7684\u4E13\u4E1A\u8FD0\u7EF4\u5DE5\u5177\uFF0C\u4F20\u7EDF\u7684\u8FD0\u7EF4\u90E8\u7F72\u5DE5\u5177\u662F\u4F7F\u7528docker\u5BB9\u5668\u6765\u90E8\u7F72\u524D\u7AEF\u9879\u76EE\uFF0C\u901A\u5E38\u524D\u7AEF\u9700\u8981\u90E8\u7F72\u7684\u53EA\u662F\u4E00\u4E2A\u6253\u5305\u540E\u7684\u9759\u6001\u8D44\u6E90\uFF08\u4EC5\u4EC5\u4E00\u4E2Aweb\u670D\u52A1\u5C31\u53EF\u4EE5\u6FC0\u6D3B\u9759\u6001\u8D44\u6E90\uFF09\uFF0CPACKAGE-CI\u629B\u5F03\u4F20\u7EDF\u7684docker\u5BB9\u5668\uFF0C\u5C06\u9759\u6001\u8D44\u6E90\u6CE8\u5165process\u7531process\u6FC0\u6D3B\u9759\u6001\u8D44\u6E90\u542F\u52A8web\u670D\u52A1\uFF0Cprocess\u4E4B\u95F4\u4E5F\u53EF\u4EE5\u7EC4\u5EFA\u5927\u578B\u96C6\u7FA4\u8282\u70B9\uFF0C\u5B9E\u73B0\u5206\u5E03\u5F0F\u90E8\u7F72\uFF0C\u53EA\u9700\u8981\u7EC4\u5EFA\u597D\u7684\u96C6\u7FA4\u5C06\u8282\u70B9\u914D\u7F6E\u5230nginx\u5373\u53EF\u5B8C\u6210\u8D1F\u8F7D\u5747\u8861\u3002
    PACKAGE-CI\u6574\u4F53\u67B6\u6784\u4E3AVue3+NodeJs\uFF08\u6846\u67B6NestJs\uFF09+MongoDB\uFF0C\u5F53\u524D\u6574\u4F53\u529F\u80FD\u5747\u5DF2\u5168\u90E8\u5B8C\u6210\uFF0C\u6B63\u5728\u4FEE\u590D\u7EC6\u8282\u90E8\u5206\uFF08\u6682\u65F6\u4E0D\u5EFA\u8BAE\u7528\u4E8E\u751F\u4EA7\u73AF\u5883\uFF09\u3002
`);se(()=>{d()});let f=z(!0);function y(g){g.requestFullscreen?g.requestFullscreen():g.mozRequestFullScreen?g.mozRequestFullScreen():g.msRequestFullscreen?g.msRequestFullscreen():g.webkitRequestFullscreen&&g.webkitRequestFullScreen()}function I(g){g.exitFullscreen?g.exitFullscreen():g.msExitFullscreen?g.msExitFullscreen():g.mozCancelFullScreen?g.mozCancelFullScreen():g.webkitExitFullscreen&&g.webkitExitFullscreen()}function V(){i.value=!i.value}function x(){window.localStorage.removeItem("token"),ut.push("/login")}async function v(){document.fullscreenElement?I(document):y(document.documentElement),f.value=!!document.fullscreenElement}async function b(){if(!o.name||!o.jobName||!o.remark){S.warning("\u53C2\u6570\u4E0D\u5B8C\u6574");return}if(o.beforePwd||o.pwd){if(o.beforePwd!=o.pwd){S.warning("\u60A8\u8BD5\u56FE\u4FEE\u6539\u5BC6\u7801\uFF0C\u4F46\u662F\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4\u3002");return}}else delete o.pwd;(await Je(o)).code===200&&(S.success("\u4FDD\u5B58\u6210\u529F"),d(),m.user_details(),c.value=!1)}async function d(){const g=await qe();if(g.code===200)for(const r in g.data)o[r]=g.data[r]}function u(){c.value=!0}let c=z(!1);return(g,r)=>{const _=$("el-input"),w=$("el-col"),k=$("el-alert"),A=Ne,M=$("el-button"),U=$("el-dialog"),D=Ae;return E(),C("div",Ts,[e("div",Vs,[Is,e("div",Ms,[Us,zs,e("div",{class:"personal",onClick:r[0]||(r[0]=Ee(O=>F.value=!0,["stop"]))},[Ps,e("div",Qs,[e("span",null,n(s(o).name),1),e("span",null,n(s(o).jobName),1)])])]),ge(e("div",Ns,[e("div",{class:"options-item",onClick:u},Ls),e("div",{class:"options-item",onClick:v},[Ys,e("span",null,n(s(f)?"\u5168\u5C4F":"\u9000\u51FA\u5168\u5C4F"),1)]),e("div",{class:"options-item",onClick:V},Ws),e("div",{class:"options-item",onClick:x},qs)],512),[[Oe,F.value]])]),t(U,{modelValue:s(c),"onUpdate:modelValue":r[7]||(r[7]=O=>Ge(c)?c.value=O:c=O),width:"500px","before-close":O=>O()},{default:l(()=>[e("div",Xs,[t(A,{title:"\u4E2A\u4EBA\u4FE1\u606F\u914D\u7F6E"},{"modal-body":l(()=>[e("div",Zs,[t(w,{span:24,class:"modal-col"},{default:l(()=>[e("div",el,[tl,t(_,{modelValue:s(o).name,"onUpdate:modelValue":r[1]||(r[1]=O=>s(o).name=O)},null,8,["modelValue"])])]),_:1}),t(w,{span:24,class:"modal-col"},{default:l(()=>[e("div",sl,[ll,e("div",ol,[e("span",null,n(s(o).account),1)])])]),_:1}),t(w,{span:24,class:"modal-col"},{default:l(()=>[e("div",al,[ul,e("div",nl,[e("span",null,n(s(o).access==="0"?"\u666E\u901A\u6210\u5458":"\u8D85\u7EA7\u7528\u6237"),1)])])]),_:1}),t(w,{span:24,class:"modal-col"},{default:l(()=>[e("div",il,[cl,e("div",dl,[e("span",null,n(s(o).job_id),1)])])]),_:1}),t(w,{span:24,class:"modal-col"},{default:l(()=>[e("div",rl,[_l,t(_,{modelValue:s(o).jobName,"onUpdate:modelValue":r[2]||(r[2]=O=>s(o).jobName=O)},null,8,["modelValue"])])]),_:1}),t(w,{span:24,class:"modal-col"},{default:l(()=>[e("div",pl,[ml,t(_,{type:"password",modelValue:s(o).pwd,"onUpdate:modelValue":r[3]||(r[3]=O=>s(o).pwd=O),placeholder:"\u65B0\u5BC6\u7801",style:{"margin-right":"10px"}},null,8,["modelValue"]),t(_,{type:"password",modelValue:s(o).beforePwd,"onUpdate:modelValue":r[4]||(r[4]=O=>s(o).beforePwd=O),placeholder:"\u786E\u8BA4\u5BC6\u7801"},null,8,["modelValue"])])]),_:1}),t(w,{span:24,class:"modal-col"},{default:l(()=>[e("div",fl,[t(k,{"show-icon":"",closable:!0,title:"\u5982\u679C\u66F4\u65B0\u5BC6\u7801\uFF0C\u5C06\u4F1A\u91CD\u65B0\u767B\u5F55",type:"warning"})])]),_:1}),t(w,{span:24,class:"modal-col"},{default:l(()=>[e("div",hl,[vl,t(_,{modelValue:s(o).remark,"onUpdate:modelValue":r[5]||(r[5]=O=>s(o).remark=O)},null,8,["modelValue"])])]),_:1})])]),_:1}),e("div",gl,[t(M,{onClick:r[6]||(r[6]=O=>Ge(c)?c.value=!1:c=!1)},{default:l(()=>[El]),_:1}),t(M,{type:"primary",onClick:b},{default:l(()=>[Fl]),_:1})])])]),_:1},8,["modelValue","before-close"]),i.value?(E(),H(D,{key:0,onClose:V,config:{width:425,height:460,title:"PACKAGE-CI",icon:"/devops_select.png"}},{main:l(()=>[e("div",wl,[Al,e("p",null,n(p.value),1),bl])]),_:1},8,["config"])):J("",!0)])}}});var yl=Z($l,[["__scopeId","data-v-468baf4d"]]);const Dl={class:"Aside"},Bl={class:"menu"},Cl=["onClick"],xl=["src"],kl=X({setup(a){const m=me();Ce();function F(o){i.forEach(p=>p.activ=!1),o.activ=!0,o.path&&m.push(o.path)}const i=P([{title:"\u9879\u76EE\u7BA1\u7406",icon:"/static/images/project.png",path:"/main/",activ:!1},{title:"\u8282\u70B9\u6C60",icon:"/static/images/host.png",path:"/main/host",activ:!1},{title:"\u4E0A\u7EBF\u7533\u8BF7",icon:"/static/images/prod.png",path:"/main/prod-task",activ:!1},{title:"\u63D0\u6D4B\u7533\u8BF7",icon:"/static/images/test.png",path:"/main/test-task",activ:!1},{title:"UAT\u4EA4\u4ED8",icon:"/static/images/uat.png",path:"/main/uat-task",activ:!1},{title:"\u9879\u76EE\u6210\u5458",icon:"/static/images/user.png",path:"/main/project-members",activ:!1}]);return(o,p)=>(E(),C("div",Dl,[e("div",Bl,[(E(!0),C(q,null,te(s(i),f=>(E(),C("div",{class:"menu-child",style:ne({backgroundColor:f.activ?"rgba(84, 104, 255, 0.1)":"#fff"}),key:f.title,onClick:y=>F(f)},[e("img",{src:f.icon},null,8,xl),e("span",null,n(f.title),1)],12,Cl))),128))])]))}});var Sl=Z(kl,[["__scopeId","data-v-1e7b8be6"]]);const jl={class:"container"},Tl={class:"container-aside"},Vl={class:"container-content"},Il=X({props:{},setup(a){return(m,F)=>(E(),C("div",jl,[e("div",Tl,[t(Sl)]),e("div",Vl,[t(yl),t(_s)])]))}});var Ml=Z(Il,[["__scopeId","data-v-da6a4e0a"]]);function we(a){if(a==null||a=="")return"0 B";const m=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];let F=0;const i=parseFloat(a);F=Math.floor(Math.log(i)/Math.log(1024));let o=i/Math.pow(1024,F);return o=o.toFixed(2),o+m[F]}function ee(a,m){let F;m=new Date(m);const i={"Y+":m.getFullYear().toString(),"m+":(m.getMonth()+1).toString(),"d+":m.getDate().toString(),"H+":m.getHours().toString(),"M+":m.getMinutes().toString(),"S+":m.getSeconds().toString()};for(const o in i)F=new RegExp("("+o+")").exec(a),F&&(a=a.replace(F[1],F[1].length==1?i[o]:i[o].padStart(F[1].length,"0")));return a}function Ul(a,m){return a==0||m==0?0:Math.round(a/m*1e4)/100}const re=a=>(ae("data-v-59d080f4"),a=a(),ue(),a),zl={class:"project-admin"},Pl={class:"project-list"},Ql={class:"project-header"},Nl=B("\u521B\u5EFA\u65B0\u7684\u9879\u76EE "),Rl={class:"search"},Hl=B("\u641C\u7D22"),Ll={class:"project-child-top"},Yl={class:"top-header"},Ol={class:"operate"},Gl=B("\u8BE6\u60C5"),Wl=B("\u5220\u9664"),Kl={class:"info-text"},Jl={class:"info-text"},ql={class:"info-text"},Xl={class:"project-child-bottom"},Zl={class:"project-child-user"},eo=re(()=>e("span",null,"\u9879\u76EE\u7ECF\u7406",-1)),to={class:"project-child-user"},so=re(()=>e("span",null,"\u6D4B\u8BD5\u6210\u5458",-1)),lo={class:"project-child-user",style:{width:"100%"}},oo=re(()=>e("span",null,"\u5F00\u53D1\u6210\u5458",-1)),ao=re(()=>e("div",{class:"project-child-user"},[e("span",null,"DEV\u8282\u70B9"),e("span",{style:{color:"#409eff"}},"124.70.108.212")],-1)),uo=re(()=>e("div",{class:"project-child-user",style:{"margin-bottom":"2px"}},[e("span",null,"PROD\u8282\u70B9"),e("span",{style:{color:"#409eff"}},"124.70.108.212")],-1)),no={class:"project-child-user",style:{width:"33.3%"}},io=re(()=>e("span",null,"\u6D4B\u8BD5\u5DE5\u5355",-1)),co={style:{color:"#409eff"}},ro={class:"project-child-user",style:{width:"33.3%"}},_o=re(()=>e("span",null,"UAT\u5DE5\u5355",-1)),po={style:{color:"#409eff"}},mo={class:"project-child-user",style:{width:"33.3%"}},fo=re(()=>e("span",null,"\u4E0A\u7EBF\u7533\u8BF7",-1)),ho={style:{color:"#409eff"}},vo={class:"write-dialog"},go={class:"write-child"},Eo=re(()=>e("span",{class:"label"},"\u670D\u52A1\u540D",-1)),Fo={class:"write-child"},wo=re(()=>e("span",{class:"label"},"GIT\u5730\u5740",-1)),Ao={class:"write-child"},bo=re(()=>e("span",{class:"label"},"\u6307\u5B9A\u5206\u652F",-1)),$o={class:"write-child"},yo=re(()=>e("span",{class:"label"},"\u6D4B\u8BD5\u6210\u5458",-1)),Do={style:{float:"left"}},Bo={class:"write-child"},Co=re(()=>e("span",{class:"label"},"\u9879\u76EE\u8D1F\u8D23\u4EBA",-1)),xo={style:{float:"left"}},ko={class:"write-child"},So=re(()=>e("span",{class:"label"},"\u5F00\u53D1\u6210\u5458",-1)),jo={style:{float:"left"}},To={class:"write-child"},Vo=re(()=>e("span",{class:"label"},"\u9879\u76EE\u63CF\u8FF0",-1)),Io={class:"write-child"},Mo=re(()=>e("span",{class:"label"},"\u8D44\u6E90\u76EE\u5F55",-1)),Uo={class:"btns"},zo=B("\u53D6\u6D88"),Po=B("\u4FDD\u5B58"),Qo=X({setup(a){const m=de(),F=me(),i=z(!1),o=z(!1),p=P({name:"",gitUrl:"",branch:"master",qa:"",devs:[],pm:"",describe:"",buildName:"dist"}),f=P([]),y=P([]),I=z("");se(()=>{b(),v(),m.user_details()});async function V(r){if(!m.permission(r,["pm","dev","qa"])){S.warning("\u6743\u9650\u4E0D\u8DB3\uFF0C\u60A8\u4E0D\u5C5E\u4E8E\u8BE5\u9879\u76EE\u6210\u5458\uFF01");return}F.push(`/main/project/details/${r.project_id}`)}function x(){y.forEach(r=>{r.show=I.value?r.project_id===I.value:!0})}async function v(){const r=await Bt();r.code===200&&(r.data,y.splice(0,y.length),r.data.forEach(_=>{_.show=!0,y.push(_)}))}async function b(){const r=await Fe();if(r.code===200){const _=r.data;f.splice(0,f.length),f.push(..._)}}function d(r){xe.confirm("\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u76EE\u6570\u636E?\uFF0C\u4E00\u65E6\u5220\u9664\u5C06\u4E0D\u53EF\u6062\u590D\uFF01","\u5220\u9664\u9879\u76EE",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{(await Ct({id:r.project_id})).code===200&&(v(),S.success("\u5220\u9664\u6210\u529F"))}).catch(()=>{})}function u(r){if(r.length<1)return"";let _=[];return r.forEach(w=>{const k=f.find(A=>A.job_id===w);_.push(k==null?void 0:k.name)}),_.join("\u3001")}function c(r){const _=f.find(w=>w.job_id===r);return _==null?void 0:_.name}async function g(){for(const _ in p)if(!p[_]){S.warning("\u53C2\u6570\u4E0D\u5B8C\u6574");return}o.value=!0;const r=await Dt(p);v(),r.code===200?S.success("\u521B\u5EFA\u6210\u529F"):S.warning(r.msg),i.value=!1,o.value=!1}return(r,_)=>{const w=$("el-button"),k=$("el-input"),A=$("el-tooltip"),M=$("el-col"),U=$("el-option"),D=$("el-select"),O=$("el-dialog"),G=Se("loading");return E(),C(q,null,[e("div",zl,[e("div",Pl,[e("div",Ql,[t(w,{color:"#626aef",onClick:_[0]||(_[0]=h=>i.value=!0),style:{color:"#fff"},dark:!0},{default:l(()=>[Nl]),_:1}),e("div",Rl,[t(k,{clearable:"",modelValue:I.value,"onUpdate:modelValue":_[1]||(_[1]=h=>I.value=h),style:{width:"300px"},placeholder:"\u8BF7\u8F93\u5165\u9879\u76EEID"},null,8,["modelValue"]),t(w,{style:{"margin-bottom":"3px","margin-left":"10px"},onClick:x},{default:l(()=>[Hl]),_:1})])]),(E(!0),C(q,null,te(s(y),h=>ge((E(),C("div",{class:"project-child",key:h.project_id},[e("div",Ll,[e("div",Yl,[e("span",null,n(h.name),1),e("div",Ol,[t(w,{size:"small",onClick:Y=>V(h),type:"text"},{default:l(()=>[Gl]),_:2},1032,["onClick"]),t(w,{size:"small",onClick:Y=>d(h),type:"text"},{default:l(()=>[Wl]),_:2},1032,["onClick"])])]),e("div",Kl,[e("span",null,n(h.project_id),1)]),e("div",Jl,[e("span",null,n(s(ee)("YY-mm-dd HH:MM:SS",h.date))+" \u521B\u5EFA",1)]),e("div",ql,[t(A,{class:"box-item",effect:"dark",content:h.describe,placement:"top"},{default:l(()=>[e("span",null,n(h.describe),1)]),_:2},1032,["content"])])]),e("div",Xl,[e("div",Zl,[eo,e("span",null,n(c(h.pm)),1)]),e("div",to,[so,e("span",null,n(c(h.qa)),1)]),e("div",lo,[oo,e("span",null,n(u(h.devs)),1)]),ao,uo,e("div",no,[io,e("span",co,n(h.testCount),1)]),e("div",ro,[_o,e("span",po,n(h.uatCount),1)]),e("div",mo,[fo,e("span",ho,n(h.prodCount),1)])])])),[[Oe,h.show]])),128))])]),t(O,{modelValue:i.value,"onUpdate:modelValue":_[11]||(_[11]=h=>i.value=h),title:"\u521B\u5EFA\u9879\u76EE",width:"1000px","before-close":h=>h()},{default:l(()=>[ge((E(),C("div",vo,[t(M,{span:8,class:"write-col"},{default:l(()=>[e("div",go,[Eo,t(k,{modelValue:s(p).name,"onUpdate:modelValue":_[2]||(_[2]=h=>s(p).name=h),maxlength:20,placeholder:"\u670D\u52A1\u540D\u5C06\u4F5C\u4E3A\u9879\u76EE\u6587\u4EF6\u5939\u540D\u79F0"},null,8,["modelValue"])])]),_:1}),t(M,{span:16,class:"write-col"},{default:l(()=>[e("div",Fo,[wo,t(k,{modelValue:s(p).gitUrl,"onUpdate:modelValue":_[3]||(_[3]=h=>s(p).gitUrl=h),placeholder:"GIT\u5730\u5740"},null,8,["modelValue"])])]),_:1}),t(M,{span:8,class:"write-col"},{default:l(()=>[e("div",Ao,[bo,t(k,{modelValue:s(p).branch,"onUpdate:modelValue":_[4]||(_[4]=h=>s(p).branch=h),placeholder:"\u9ED8\u8BA4master\u5206\u652F"},null,8,["modelValue"])])]),_:1}),t(M,{span:8,class:"write-col"},{default:l(()=>[e("div",$o,[yo,t(D,{style:{width:"100%"},modelValue:s(p).qa,"onUpdate:modelValue":_[5]||(_[5]=h=>s(p).qa=h),class:"m-2",placeholder:"\u6D4B\u8BD5\u6210\u5458"},{default:l(()=>[(E(!0),C(q,null,te(s(f),h=>(E(),H(U,{key:h.job_id,label:h.name,value:h.job_id},{default:l(()=>[e("span",Do,n(h.name)+"\uFF08"+n(h.jobName)+"\uFF09",1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),t(M,{span:8,class:"write-col"},{default:l(()=>[e("div",Bo,[Co,t(D,{style:{width:"100%"},modelValue:s(p).pm,"onUpdate:modelValue":_[6]||(_[6]=h=>s(p).pm=h),class:"m-2",placeholder:"\u9879\u76EE\u8D1F\u8D23\u4EBA"},{default:l(()=>[(E(!0),C(q,null,te(s(f),h=>(E(),H(U,{key:h.job_id,label:h.name,value:h.job_id},{default:l(()=>[e("span",xo,n(h.name)+"\uFF08"+n(h.jobName)+"\uFF09",1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),t(M,{span:24,class:"write-col"},{default:l(()=>[e("div",ko,[So,t(D,{multiple:"",style:{width:"100%"},modelValue:s(p).devs,"onUpdate:modelValue":_[7]||(_[7]=h=>s(p).devs=h),class:"m-2",placeholder:"\u9879\u76EE\u5F00\u53D1\u6210\u5458"},{default:l(()=>[(E(!0),C(q,null,te(s(f),h=>(E(),H(U,{key:h.job_id,label:h.name,value:h.job_id},{default:l(()=>[e("span",jo,n(h.name)+"\uFF08"+n(h.jobName)+"\uFF09",1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),t(M,{span:24,class:"write-col"},{default:l(()=>[e("div",To,[Vo,t(k,{modelValue:s(p).describe,"onUpdate:modelValue":_[8]||(_[8]=h=>s(p).describe=h),maxlength:100,placeholder:"\u9879\u76EE\u63CF\u8FF0"},null,8,["modelValue"])])]),_:1}),t(M,{span:8,class:"write-col"},{default:l(()=>[e("div",Io,[Mo,t(k,{modelValue:s(p).buildName,"onUpdate:modelValue":_[9]||(_[9]=h=>s(p).buildName=h),maxlength:100,placeholder:"\u9ED8\u8BA4dist"},null,8,["modelValue"])])]),_:1}),e("div",Uo,[t(w,{onClick:_[10]||(_[10]=h=>i.value=!1)},{default:l(()=>[zo]),_:1}),t(w,{type:"primary",onClick:g},{default:l(()=>[Po]),_:1})])])),[[G,o.value]])]),_:1},8,["modelValue","before-close"])],64)}}});var No=Z(Qo,[["__scopeId","data-v-59d080f4"]]);const Te=a=>(ae("data-v-6a133144"),a=a(),ue(),a),Ro={class:"project-members"},Ho={class:"toolbar"},Lo=B("\u6210\u5458\u6CE8\u518C"),Yo={style:{"font-size":"14px",color:"#000"}},Oo={style:{"font-size":"14px",color:"#888"}},Go={style:{"font-size":"14px",color:"#888"}},Wo={style:{"font-size":"14px",color:"#888"}},Ko={style:{width:"100%"},class:"ellipsis"},Jo={style:{"font-size":"14px",color:"#888"}},qo=B("\u5220\u9664"),Xo=B("\u4FEE\u6539 "),Zo={class:"pagination"},ea={class:"write-dialog"},ta={class:"write-child"},sa=Te(()=>e("span",{class:"label"},"\u59D3\u540D",-1)),la={class:"write-child"},oa=Te(()=>e("span",{class:"label"},"\u7528\u6237\u540D",-1)),aa={class:"write-child"},ua=Te(()=>e("span",{class:"label"},"\u5BC6\u7801",-1)),na={class:"write-child"},ia=Te(()=>e("span",{class:"label"},"\u804C\u4F4D",-1)),ca={class:"write-child"},da=Te(()=>e("span",{class:"label"},"\u6743\u9650",-1)),ra={class:"text"},_a=B("\u666E\u901A\u6210\u5458"),pa=B("\u8D85\u7EA7\u7528\u6237"),ma={class:"write-child"},fa={class:"write-child"},ha=Te(()=>e("span",{class:"label"},"\u5907\u6CE8",-1)),va={class:"btns"},ga=B("\u53D6\u6D88"),Ea=B("\u4FDD\u5B58"),Fa=X({setup(a){const m=de(),F=z(!1),i=z(1),o=z(0),p=z("create");function f(d){i.value=d,x()}let y=P({access:"0",account:"",pwd:"",name:"",jobName:"",remark:""});const I=P([]);se(()=>{x()});function V(d,u){if(d==="update")for(const c in u)y[c]=u[c];d==="create"&&(y.account="",y.pwd="",y.name="",y.jobName="",y.remark=""),F.value=!0,p.value=d}async function x(){m.setLoad(!0);const d=await Fe({pageIndex:i.value,pageSize:20});m.setLoad(!1);const u=d.data;d.code===200&&(I.splice(0,I.length),I.push(...u),o.value=d.total)}function v(d){if(m.personal.access!="1"){S.success("\u6CA1\u6709\u6743\u9650");return}xe.confirm("\u786E\u5B9A\u5220\u9664\u8BE5\u6210\u5458\u6570\u636E?\uFF0C\u4E00\u65E6\u5220\u9664\u5C06\u4E0D\u53EF\u6062\u590D\uFF01","\u5220\u9664\u56E2\u961F\u6210\u5458",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{const u=await wt({id:d._id});u.code===200&&u.data.deletedCount>0&&(x(),S.success("\u5220\u9664\u6210\u529F"))}).catch(()=>{})}async function b(){let d;p.value==="create"?d=await Ft(y):d=await Je(y),d.code===200&&(F.value=!1,x(),S.success("\u4FDD\u5B58\u6210\u529F"))}return(d,u)=>{const c=$("el-button"),g=$("el-table-column"),r=$("el-tag"),_=$("el-tooltip"),w=$("el-table"),k=$("el-pagination"),A=$("el-input"),M=$("el-col"),U=$("el-radio"),D=$("el-radio-group"),O=$("el-alert"),G=$("el-dialog");return E(),C(q,null,[e("div",Ro,[e("div",Ho,[t(c,{type:"primary",onClick:u[0]||(u[0]=h=>V("create"))},{default:l(()=>[Lo]),_:1})]),t(w,{data:s(I),style:{width:"100%"}},{default:l(()=>[t(g,{prop:"name",label:"\u59D3\u540D","min-width":"140"},{default:l(h=>[e("span",Yo,n(h.row.name),1)]),_:1}),t(g,{prop:"account",label:"\u7528\u6237\u540D","min-width":"140"},{default:l(h=>[e("span",Oo,n(h.row.account),1)]),_:1}),t(g,{prop:"jobName",label:"\u804C\u4F4D","min-width":"140"},{default:l(h=>[e("span",Go,n(h.row.jobName),1)]),_:1}),t(g,{prop:"jobName",label:"\u6743\u9650","min-width":"140"},{default:l(h=>[t(r,{class:"ml-2",type:h.row.access==="0"?"":"success"},{default:l(()=>[B(n(h.row.access==="0"?"\u666E\u901A\u6210\u5458":"\u8D85\u7EA7\u7528\u6237"),1)]),_:2},1032,["type"])]),_:1}),t(g,{prop:"date",label:"\u6CE8\u518C\u65F6\u95F4","min-width":"140"},{default:l(h=>[e("span",Wo,n(s(ee)("YY-mm-dd HH:MM:SS",h.row.date)),1)]),_:1}),t(g,{prop:"remark",label:"\u5907\u6CE8","min-width":"200"},{default:l(h=>[t(_,{class:"box-item",effect:"dark",content:h.row.remark,placement:"top-start"},{default:l(()=>[e("div",Ko,[e("span",Jo,n(h.row.remark),1)])]),_:2},1032,["content"])]),_:1}),s(m).personal.access==="1"?(E(),H(g,{key:0,label:"\u64CD\u4F5C",fixed:"right",width:"100"},{default:l(h=>[t(c,{type:"text",onClick:Y=>v(h.row)},{default:l(()=>[qo]),_:2},1032,["onClick"]),t(c,{type:"text",onClick:Y=>V("update",h.row)},{default:l(()=>[Xo]),_:2},1032,["onClick"])]),_:1})):J("",!0)]),_:1},8,["data"]),e("div",Zo,[t(k,{"el-pagination":"",background:"",layout:"prev, pager, next","current-page":i.value,onCurrentChange:f,"page-size":20,total:o.value},null,8,["current-page","total"])])]),t(G,{modelValue:F.value,"onUpdate:modelValue":u[8]||(u[8]=h=>F.value=h),title:p.value==="create"?"\u6210\u5458\u6CE8\u518C":"\u6210\u5458\u4FE1\u606F\u7F16\u8F91",width:"800px","before-close":h=>h()},{default:l(()=>[e("div",ea,[t(M,{span:12,class:"write-col"},{default:l(()=>[e("div",ta,[sa,t(A,{modelValue:s(y).name,"onUpdate:modelValue":u[1]||(u[1]=h=>s(y).name=h)},null,8,["modelValue"])])]),_:1}),t(M,{span:12,class:"write-col"},{default:l(()=>[e("div",la,[oa,t(A,{modelValue:s(y).account,"onUpdate:modelValue":u[2]||(u[2]=h=>s(y).account=h)},null,8,["modelValue"])])]),_:1}),t(M,{span:12,class:"write-col"},{default:l(()=>[e("div",aa,[ua,t(A,{modelValue:s(y).pwd,"onUpdate:modelValue":u[3]||(u[3]=h=>s(y).pwd=h),type:"password"},null,8,["modelValue"])])]),_:1}),t(M,{span:12,class:"write-col"},{default:l(()=>[e("div",na,[ia,t(A,{modelValue:s(y).jobName,"onUpdate:modelValue":u[4]||(u[4]=h=>s(y).jobName=h)},null,8,["modelValue"])])]),_:1}),t(M,{span:12,class:"write-col"},{default:l(()=>[e("div",ca,[da,e("div",ra,[t(D,{disabled:s(m).personal.access==="0",modelValue:s(y).access,"onUpdate:modelValue":u[5]||(u[5]=h=>s(y).access=h),class:"ml-4"},{default:l(()=>[t(U,{style:{"margin-right":"15px"},label:"0",size:"large"},{default:l(()=>[_a]),_:1}),s(m).personal.access==="1"?(E(),H(U,{key:0,label:"1",size:"large"},{default:l(()=>[pa]),_:1})):J("",!0)]),_:1},8,["disabled","modelValue"])])])]),_:1}),t(M,{span:24,class:"write-col"},{default:l(()=>[e("div",ma,[t(O,{"show-icon":"",closable:!1,title:"\u8D85\u7EA7\u7528\u6237\u662F\u7CFB\u7EDF\u5C42\u9762\u7684\u6743\u9650\uFF0C\u53EF\u4EE5\u7F16\u8F91\u670D\u52A1\u5668\u8282\u70B9\uFF0C\u4EE5\u53CA\u56E2\u961F\u6210\u5458\u589E\u5220\u6539\u3002\u5176\u4F59\u548C\u666E\u901A\u6210\u5458\u65E0\u5F02\uFF01",type:"warning"})])]),_:1}),t(M,{span:24,class:"write-col"},{default:l(()=>[e("div",fa,[ha,t(A,{modelValue:s(y).remark,"onUpdate:modelValue":u[6]||(u[6]=h=>s(y).remark=h)},null,8,["modelValue"])])]),_:1}),e("div",va,[t(c,{onClick:u[7]||(u[7]=h=>F.value=!1)},{default:l(()=>[ga]),_:1}),t(c,{type:"primary",onClick:b},{default:l(()=>[Ea]),_:1})])])]),_:1},8,["modelValue","title","before-close"])],64)}}});var wa=Z(Fa,[["__scopeId","data-v-6a133144"]]),Ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABiBJREFUeF7tm3uIVFUcxz+/u2qpuDurImlK2IOwP9SIMBN6iGYPfIQSbrpSqYVEhXNnTQhyJf/R3btrBSImWj4yUyn2n8igB5QYFGFSFIVFkgXpzsz6XnfnF3d0dWd3Zufcu3PvXdH73zDf3+tzzj333HPOFcK+PtQyjrZUgVYDj1wKfwisbfSX7bw85L8wU5LQgjWmppGRakSrUQrHVT7Bkm2MLt/DU9IedH7BAnCSd6NahZQtBB3psZhWYBuiO4hXfuXR1lheegB1qbFY+iRKNSITjTPpUah/omzD0r3Ehx4ujc+LXkoDYEOqkjM6C5H5wKOlTLC7L/kGdCfS1kR8+N+9jeUfgKrQmJqFWnMuDWhlvU3Gu73uAdmHnGwiPuasd3s/PaAh+SDITBS3tW/2EzQAm2bQ91FpIhH7zIt/sx7gJCcAs0BmA/d4CRCB9jCqH0EWxvfF4hcGUJ+8JVu0yExgejFHffJ/5XPQpmzPqIn9kS/H7gDqk+7o7RY9B+jfJwvznJS0IfoxGW0iUbm9s3kuACe9FfQZz/6vJgPlAxKxqo6UrwCoP3kX0v7T1VSL71xlwGjig7KP0CsA6pIPYckXvp1eTYYZfZiayi+vA7jeA67fAhGMAcqvCJtpb/+RATccyg4drecnUFY2HmUJwp2BDycRjgHr0DN1JEYdz1tk/bHhyKAaYEWgEKIBkKnGHrrDqDCneSFYORMWIztTUegAVBMkKh3T/LK6+qSNSL0nG1NxqABEviVecZ9pbjm6hvRBVCf5su3JKFQASC12xWpfRTjpVaC1vmz7DACr/yiWD/7HVxGNp0eSuXDMl22fAWDHzNYc8iXsLrWdpfnaBbD2+Dj69fv52gUQ1AtaqIOg6qKuixDGLeqkNgOLjfWmwlABCPuJx2aY5nZZ55wYA2W/AwM82xYzCBXAxWRWYsfWFssr538n9Q6wxJONqTgCAIC1GLt8i1GOQc4C3QTyAmhsmUIm87VRgr5FRSZF7nO/rfUFLFnlO4SRYftk7GEHXWkEa4JyjExmQceS1OV865K1WNZS0FFGNfRGpG3jSAz/JRdAULOufIl26oKdAIS3JtneOpIVI/7NBbBVb6Q57Wt/zXNjRA3gZHIgtWPP5QJwfzmpE8BQzwV5NYgSgPAX8Zi765W9cufpQb1+dgUUJYCCGyPZHpDcAbLAa4N61kcJAGqwY5cXWrpujQXz/t2XekB7+wxWDNtf6Ba4HdXfPLeoV4OoeoB7/7dU3EattOUHcHEgdOkEux0eFQDYgh3LebnKsz2efgnRt7w2qid9VABUniZRsatzrt0BZCdEbd8FOiOLBIAewK6c0rWh8i9XZaelAc7HowCQp/W7zwM68ATdC8IG4J4+TcQez3ebFl6wdFrikPG2mWE6EIQKQM6jMo1Eed433Z5XbJ3Up50ONJuWZ6Kbhx3blyN0UnOBvSbG3jRqY1c2FLLpGUB98gFEAjinK+9iVzybCyCQ80m7sWPuecaCV/E1eye1BnjNG/UiauUEorvIcLEXWMxFpQphWAnjHMFiOstjR3oHoOHoQHSI2wvuLWFyYbiajx3bXSxQ8R7gemhIzkbFba0IzgMXKyHv2P46dsUbJpZmAFxPjeknyKg7ixpi4jgyjWiCuPlWvDkAt6K61FQs2Ql6U2QF9nhDy4vEKzZ4yc0bgCyElslYGfekx61eAgWuFes54uVbvcbxDsCNsC45kX7yHsp4rwED0J9CM8+TGJrzkmMaxx8A1/vbp0dx/sKbCPNMg5VepwegrAa7/IBf3/4BdER00mtASztPMKlG2cip1hpqR5wykRfS9B6A69lJLgJZD1T2JhlD21MINcRjGw31PcpKA8ANsT49iTZdgzCtFIkV8LEfrNW96fJd/ZYOQIfn+vQrCK/6+E6wMLfs6VLLwS53d4xLepUeQPYpkboNS1ci0svtbTmHagOWOMQrSn9WqGTfDRZqk7rmmZRZy1Ae89xswia0/0bswT94tvVgEEwP6JpAY2oeigtiatHc3MIzbDL54quoLwNBOAAuPzLdM8CyDOT+brmFXHhH/HABdERtaFkMuhTVOxD2htniXcH/D18Oa19fT51sAAAAAElFTkSuQmCC";const Aa={class:"commit-list"},ba={class:"ellipsis"},$a={style:{color:"#000"}},ya={class:"ellipsis"},Da={style:{color:"#409EFF"}},Ba={style:{color:"#888"}},Ca={class:"ellipsis"},xa=X({props:{versions:{default(){return[]}}},setup(a){const m=a;return se(()=>{console.log(m.versions)}),(F,i)=>{const o=$("el-table-column"),p=$("el-table");return E(),C("div",Aa,[t(p,{data:m.versions,style:{width:"100%"}},{default:l(()=>[t(o,{prop:"author_name",label:"Author_Name",width:"120","show-overflow-tooltip":""},{default:l(f=>[e("div",ba,[e("span",$a,n(f.row.author_name),1)])]),_:1}),t(o,{prop:"author_email",label:"Author_Email",width:"200","show-overflow-tooltip":""},{default:l(f=>[e("div",ya,[e("span",Da,n(f.row.author_email),1)])]),_:1}),t(o,{prop:"date",label:"Date",width:"200"},{default:l(f=>[e("span",Ba,n(s(ee)("YY-mm-dd HH:MM:SS",f.row.date)),1)]),_:1}),t(o,{prop:"message",label:"Message","show-overflow-tooltip":""},{default:l(f=>[e("div",Ca,[e("span",null,n(f.row.message),1)])]),_:1})]),_:1},8,["data"])])}}});var ka=Z(xa,[["__scopeId","data-v-a637a98a"]]);const be=a=>(ae("data-v-f258e646"),a=a(),ue(),a),Sa={key:0,class:"project-permission"},ja=be(()=>e("img",{src:Ie},null,-1)),Ta=be(()=>e("span",null,"\u5F53\u524D\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3",-1)),Va=[ja,Ta],Ia={key:1,class:"config-dialog"},Ma={class:"dialog-body"},Ua={class:"config-child"},za=be(()=>e("span",{class:"label"},"DEV\u7AEF\u53E3",-1)),Pa={class:"config-child"},Qa=be(()=>e("span",{class:"label"},"TEST\u7AEF\u53E3",-1)),Na={class:"config-child",style:{"padding-right":"0"}},Ra=be(()=>e("span",{class:"label"},"UAT\u7AEF\u53E3",-1)),Ha={class:"config-child"},La=be(()=>e("span",{class:"label"},"PROD\u7AEF\u53E3",-1)),Ya={class:"config-child",style:{"padding-right":"0"}},Oa=be(()=>e("span",{class:"label"},"\u5F00\u53D1\u8282\u70B9",-1)),Ga={class:"config-child",style:{"padding-right":"0"}},Wa=be(()=>e("span",{class:"label"},"\u751F\u4EA7\u8282\u70B9",-1)),Ka={class:"res-code",style:{"user-select":"text"}},Ja={key:0,style:{color:"red","font-size":"16px","font-weight":"700"}},qa={class:"btns"},Xa=B("\u5173\u95ED"),Za=B("\u66F4\u65B0\u914D\u7F6E"),eu=X({props:{configVisible:{type:Boolean,default:!1},projectInfo:{default(){return{envs:{},dev_ip:"",branch:"master",date:0,describe:"",devs:[],gitUrl:"",localPath:"",name:"",pm:"",qa:"",_id:""}}}},emits:["close","read"],setup(a,{emit:m}){const F=a,i=de(),o=P({}),p=P({dev_ip:"",prod_ip:""}),f=P([]),y=P([]);function I(){const v=JSON.parse(JSON.stringify(F.projectInfo));p.dev_ip=v.dev_ip,p.prod_ip=v.prod_ip;for(const b in v.envs)o[b]=v.envs[b]}async function V(){const v=await st();v.code===200&&(f.splice(0,f.length),f.push(...v.data))}async function x(){if(!i.permission(F.projectInfo,["pm"])){S.warning("\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3");return}i.setLoad(!0),y.splice(0,y.length);const v=await kt({dev_ip:p.dev_ip,prod_ip:p.prod_ip,envs:o,_id:F.projectInfo.project_id,name:F.projectInfo.name});let b=setTimeout(()=>{clearTimeout(b),i.setLoad(!1),v.code===200?(y.splice(0,y.length),y.push(...v.ips)):y.push(v.msg)},500);v.code===200&&v.modifiedCount>0&&m("read")}return se(()=>{V(),I()}),(v,b)=>{const d=$("el-input"),u=$("el-col"),c=$("el-option"),g=$("el-select"),r=$("el-button");return s(i).permission(a.projectInfo,["pm","dev"])?(E(),C("div",Ia,[e("div",Ma,[t(u,{span:8,class:"config-col"},{default:l(()=>[e("div",Ua,[za,s(o).DEV?(E(),H(d,{key:0,modelValue:s(o).DEV.port,"onUpdate:modelValue":b[0]||(b[0]=_=>s(o).DEV.port=_),maxlength:5,placeholder:"1024~65535"},null,8,["modelValue"])):J("",!0)])]),_:1}),t(u,{span:8,class:"config-col"},{default:l(()=>[e("div",Pa,[Qa,s(o).TEST?(E(),H(d,{key:0,modelValue:s(o).TEST.port,"onUpdate:modelValue":b[1]||(b[1]=_=>s(o).TEST.port=_),maxlength:5,placeholder:"1024~65535"},null,8,["modelValue"])):J("",!0)])]),_:1}),t(u,{span:8,class:"config-col"},{default:l(()=>[e("div",Na,[Ra,s(o).UAT?(E(),H(d,{key:0,modelValue:s(o).UAT.port,"onUpdate:modelValue":b[2]||(b[2]=_=>s(o).UAT.port=_),maxlength:5,placeholder:"1024~65535"},null,8,["modelValue"])):J("",!0)])]),_:1}),t(u,{span:8,class:"config-col"},{default:l(()=>[e("div",Ha,[La,s(o).PROD?(E(),H(d,{key:0,modelValue:s(o).PROD.port,"onUpdate:modelValue":b[3]||(b[3]=_=>s(o).PROD.port=_),maxlength:5,placeholder:"1024~65535"},null,8,["modelValue"])):J("",!0)])]),_:1}),t(u,{span:16,class:"config-col"},{default:l(()=>[e("div",Ya,[Oa,t(g,{style:{width:"100%"},class:"m-2",placeholder:"DEV\u3001TEST\u3001UAT\u73AF\u5883\u5C06\u4F1A\u90E8\u7F72\u81F3\u8BE5\u8282\u70B9",modelValue:s(p).dev_ip,"onUpdate:modelValue":b[4]||(b[4]=_=>s(p).dev_ip=_),size:"small"},{default:l(()=>[(E(!0),C(q,null,te(s(f),_=>(E(),H(c,{key:_.ip,label:_.ip,value:_.ip},{default:l(()=>{var w;return[e("span",null,n(_.ip)+"\uFF08"+n(_.platform)+"-"+n((w=_.cpus)==null?void 0:w.length)+"\u6838-"+n(s(we)(_.totalmem))+"\uFF09",1)]}),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),t(u,{span:24,class:"config-col"},{default:l(()=>[e("div",Ga,[Wa,t(g,{style:{width:"100%"},class:"m-2",modelValue:s(p).prod_ip,"onUpdate:modelValue":b[5]||(b[5]=_=>s(p).prod_ip=_),placeholder:"\u6240\u9009\u8282\u70B9\u5C06\u4F1A\u7EC4\u6210\u96C6\u7FA4\uFF0CPROD\u73AF\u5883\u53D1\u5E03\u65F6\u5C06\u4F1A\u4EE5\u5206\u5E03\u5F0F\u7684\u65B9\u5F0F\u90E8\u7F72\u81F3\u8BE5\u96C6\u7FA4"},{default:l(()=>[(E(!0),C(q,null,te(s(f),_=>(E(),H(c,{key:_.ip,label:_.ip,value:_.ip},{default:l(()=>{var w;return[e("span",null,n(_.ip)+"\uFF08"+n(_.platform)+"-"+n((w=_.cpus)==null?void 0:w.length)+"\u6838-"+n(s(we)(_.totalmem))+"\uFF09",1)]}),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1})]),e("div",Ka,[s(y).length===1?(E(),C("p",Ja,"\u3010Error\u3011"+n(s(y)[0]),1)):(E(!0),C(q,{key:1},te(s(y),_=>(E(),C("div",{class:"code-item",key:_.ip},[(E(!0),C(q,null,te(_.list,w=>(E(),C("span",{style:ne({color:w.code===200?"#5468ff":"red"}),key:w.name},"\u8282\u70B9\u3010"+n(_.ip)+"\u3011\u9879\u76EE\u3010"+n(a.projectInfo.name)+"\u3011\u73AF\u5883\u3010"+n(w.name)+"\u3011\u914D\u7F6E"+n(w.code===200?"\u6210\u529F":"\u5931\u8D25"),5))),128))]))),128))]),e("div",qa,[t(r,{onClick:b[6]||(b[6]=Ee(_=>m("close"),["stop"]))},{default:l(()=>[Xa]),_:1}),t(r,{onClick:Ee(x,["stop"])},{default:l(()=>[Za]),_:1},8,["onClick"])])])):(E(),C("div",Sa,Va))}}});var tu=Z(eu,[["__scopeId","data-v-f258e646"]]);const Ue=a=>(ae("data-v-56cbf22d"),a=a(),ue(),a),su={key:0,class:"project-permission"},lu=Ue(()=>e("img",{src:Ie},null,-1)),ou=Ue(()=>e("span",null,"\u5F53\u524D\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3",-1)),au=[lu,ou],uu={key:1,class:"config-dialog"},nu={class:"config-child"},iu=Ue(()=>e("span",{class:"label"},"\u8FDC\u7A0B\u5206\u652F",-1)),cu={style:{"font-size":"16px"}},du=B("\u68C0\u51FA "),ru={class:"config-child"},_u=Ue(()=>e("span",{class:"label"},"\u672C\u5730\u5206\u652F",-1)),pu={style:{"font-size":"16px"}},mu={style:{"font-size":"16px","font-weight":"900","margin-top":"5px","margin-left":"3px"}},fu=B("\u5220\u9664 "),hu={class:"btns"},vu=B("\u5173\u95ED"),gu=X({props:{projectInfo:{default(){return{envs:{},dev_ip:"",branch:"master",cors:!0,date:0,describe:"",devs:[],gitUrl:"",localPath:"",name:"",pm:"",pwd:"",qa:"",user:"",_id:""}}}},emits:["close","read"],setup(a,{emit:m}){const F=a,i=de(),o=P([]),p=z(""),f=z(!1),y=z(!1),I=P([]),V=z("");function x(c){return c=c.replace("origin/",""),!!I.find(g=>g.name===c)}async function v(){y.value=!0;const c=await Ut({id:F.projectInfo.project_id,branch:V.value});y.value=!1,d(),m("read"),c.code===200?(V.value="",S.success(`\u672C\u5730\u3010${c.data.branch}\u3011\u5206\u652F\u5220\u9664\u6210\u529F\uFF0C\u5982\u6709\u9700\u8981\u53EF\u4EE5\u91CD\u65B0\u4ECE\u8FDC\u7A0B\u5206\u652F\u68C0\u51FA\u81F3\u672C\u5730`)):S.warning(c.msg)}async function b(){f.value=!0;const c=await Mt({id:F.projectInfo.project_id,branch:p.value});f.value=!1,d(),m("read"),c.code===200?(p.value="",S.success(c.data)):S.warning(c.msg)}async function d(){const c=await Xe({id:F.projectInfo.project_id});if(c.code===200){I.splice(0,o.length);for(const g in c.data.branches)I.push(c.data.branches[g])}}async function u(){console.log(F.projectInfo.project_id,"props.projectInfo.project_id ");const c=await Vt({id:F.projectInfo.project_id});c.code===200&&(o.splice(0,o.length),o.push(...c.data.all))}return se(async()=>{await d(),u()}),(c,g)=>{const r=$("el-option"),_=$("el-select"),w=$("el-button"),k=$("el-col");return s(i).permission(a.projectInfo,["pm","dev"])?(E(),C("div",uu,[t(k,{span:24,class:"config-col"},{default:l(()=>[e("div",nu,[iu,t(_,{style:{width:"100%"},modelValue:p.value,"onUpdate:modelValue":g[0]||(g[0]=A=>p.value=A),class:"m-2",placeholder:"\u8BF7\u9009\u62E9\u9700\u8981\u68C0\u51FA\u7684\u5206\u652F"},{default:l(()=>[(E(!0),C(q,null,te(s(o),A=>(E(),H(r,{disabled:x(A),key:A,label:A,value:A},{default:l(()=>[e("span",cu,n(A),1)]),_:2},1032,["disabled","label","value"]))),128))]),_:1},8,["modelValue"]),t(w,{loading:f.value,onClick:b,type:"primary",disabled:!p.value,style:{"margin-left":"10px"}},{default:l(()=>[du]),_:1},8,["loading","disabled"])])]),_:1}),t(k,{span:24,class:"config-col"},{default:l(()=>[e("div",ru,[_u,t(_,{style:{width:"100%"},modelValue:V.value,"onUpdate:modelValue":g[1]||(g[1]=A=>V.value=A),class:"m-2",placeholder:"\u8BF7\u9009\u62E9\u9700\u8981\u5220\u9664\u7684\u5206\u652F"},{default:l(()=>[(E(!0),C(q,null,te(s(I),A=>(E(),H(r,{key:A.commit,label:A.name,value:A.name,disabled:A.current},{default:l(()=>[e("span",pu,[B(n(A.name)+" ",1),e("span",mu,n(A.current?"*":""),1)])]),_:2},1032,["label","value","disabled"]))),128))]),_:1},8,["modelValue"]),t(w,{loading:y.value,onClick:v,type:"danger",disabled:!V.value,style:{"margin-left":"10px"}},{default:l(()=>[fu]),_:1},8,["loading","disabled"])])]),_:1}),e("div",hu,[t(w,{onClick:g[2]||(g[2]=Ee(A=>m("close"),["stop"]))},{default:l(()=>[vu]),_:1})])])):(E(),C("div",su,au))}}});var Eu=Z(gu,[["__scopeId","data-v-56cbf22d"]]);const ve=a=>(ae("data-v-677c7c34"),a=a(),ue(),a),Fu={class:"cluster_list"},wu={style:{"font-size":"14px"}},Au={style:{"font-size":"14px"}},bu={style:{"font-size":"14px"}},$u={style:{"font-size":"14px"}},yu=["onClick"],Du={key:1,style:{display:"block","font-size":"14px"}},Bu=["onClick"],Cu={key:1,style:{display:"block","font-size":"14px"}},xu=["onClick"],ku={key:1,style:{display:"block","font-size":"14px"}},Su={key:2,style:{display:"flex"}},ju={key:3,style:{display:"flex"}},Tu=B("\u672A\u5F00\u59CB"),Vu={class:"cluster-env"},Iu=ve(()=>e("div",{class:"evn-link",style:{width:"90px",height:"40px","margin-right":"6px"}},[e("span",{style:{backgroundColor:"#909399",color:"#fff"}},"BUILD")],-1)),Mu={class:"evn-link",style:{width:"90px",height:"40px","margin-right":"6px"}},Uu={class:"evn-link",style:{width:"90px",height:"40px","margin-right":"6px"}},zu={class:"evn-link",style:{width:"90px",height:"40px","margin-right":"6px"}},Pu={class:"evn-link",style:{width:"90px",height:"40px","margin-right":"6px"}},Qu=B("\u90E8\u7F72"),Nu={class:"evn-dialog"},Ru={class:"modal-body"},Hu={class:"modal-child"},Lu=ve(()=>e("span",{class:"label"},"\u7248\u672C",-1)),Yu={class:"text"},Ou={class:"modal-child"},Gu=ve(()=>e("span",{class:"label"},"\u6784\u5EFA\u65F6\u95F4",-1)),Wu={class:"text"},Ku={class:"modal-child"},Ju=ve(()=>e("span",{class:"label"},"commit_id",-1)),qu={class:"text"},Xu={class:"modal-child"},Zu=ve(()=>e("span",{class:"label"},"SIZE",-1)),en={class:"text"},tn={class:"modal-child"},sn=ve(()=>e("span",{class:"label"},"\u6D4B\u8BD5\u72B6\u6001",-1)),ln={class:"text"},on={class:"modal-child"},an=ve(()=>e("span",{class:"label"},"\u6D4B\u8BD5\u5DE5\u5355",-1)),un={class:"text"},nn={key:1},cn={class:"modal-child"},dn=ve(()=>e("span",{class:"label"},"UAT\u72B6\u6001",-1)),rn={class:"text"},_n={class:"modal-child"},pn=ve(()=>e("span",{class:"label"},"UAT\u5DE5\u5355",-1)),mn={class:"text"},fn={key:1},hn={class:"modal-child"},vn=ve(()=>e("span",{class:"label"},"PROD\u72B6\u6001",-1)),gn={class:"text",style:{"background-color":"#f5f5f5","padding-left":"10px","box-sizing":"border-box"}},En={key:0,style:{display:"flex","align-items":"center"}},Fn={key:1,style:{fontWeight:700}},wn={class:"modal-child"},An=ve(()=>e("span",{class:"label"},"PROD\u5DE5\u5355",-1)),bn={class:"text"},$n={key:1},yn={class:"evn-select"},Dn=ve(()=>e("div",{class:"evn-link evn-link-dev",style:{"margin-right":"20px"}},[e("span",{style:{backgroundColor:"#909399",color:"#fff"}},"BUILD\u6784\u5EFA")],-1)),Bn={class:"evn-link evn-link-dev",style:{"margin-right":"20px"}},Cn={class:"evn-link evn-link-test",style:{"margin-right":"20px"}},xn={class:"evn-link evn-link-uat",style:{"margin-right":"20px"}},kn={class:"evn-link evn-link-prod"},Sn={class:"evn-btns"},jn=B("DEV\u73AF\u5883\u90E8\u7F72"),Tn=B("\u63D0\u4EA4TEST\u7533\u8BF7 "),Vn=B(" \u63D0\u4EA4UAT\u7533\u8BF7"),In=B(" \u63D0\u4EA4\u751F\u4EA7\u4E0A\u7EBF "),Mn={class:"dialog-bottom"},Un=B("\u5173\u95ED"),zn=X({setup(a,{expose:m}){const F=de(),i=me(),o=Ce(),p=P([]),f=z(!1);P(["DEV","TEST","UAT","PROD"]),z("");const y=P([]),I=P([]),V=P([]),x=z(!1),v=P({DEV:{status:null,date:null,user:null},PROD:{status:null,date:null,user:null},TEST:{status:null,date:null,user:null},UAT:{status:null,date:null,user:null},commit_id:"",date:0,projectId:"",size:0,uid:"",pack_id:"",_id:""}),b=Qe("projectInfo");se(()=>{c(),g(),r(),_()}),m({vm_release_list:c,releaseLoading:x});function d(G){if(!F.permission(b,["dev"])){S.warning("\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3");return}switch(x.value=!0,G){case"DEV":M();break;case"TEST":U();break;case"UAT":D();break;case"PROD":O();break}}function u(G){if(!F.permission(b,["pm","dev"])){S.warning("\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3");return}for(const h in G)v[h]=G[h];b.dev_ip&&b.prod_ip?f.value=!0:S({showClose:!0,message:"\u9879\u76EE\u8282\u70B9\u4FE1\u606F\u7F3A\u5931\uFF0C\u8BF7\u5148\u5B8C\u6210\u521D\u59CB\u5316\u914D\u7F6E\u3002",type:"warning"})}async function c(){x.value=!0;const G=await Jt({id:o.params.id});if(G.code===200){let h=setTimeout(()=>{clearTimeout(h),x.value=!1},500);if(p.splice(0,p.length),p.push(...G.data),v.uid){const Y=p.find(N=>N.uid===v.uid)||{};for(const N in Y)v[N]=Y[N]}}}async function g(){const G=await Ze({project_id:o.params.id,releaseStatus:99,status:99});G.code===200&&(y.splice(0,y.length),y.push(...G.data))}async function r(){const G=await et({project_id:o.params.id,releaseStatus:99,status:99});G.code===200&&(I.splice(0,I.length),I.push(...G.data))}async function _(){const G=await tt({project_id:o.params.id,releaseStatus:99,status:99});G.code===200&&(V.splice(0,V.length),V.push(...G.data))}function w(G){let h={};h=V.find(N=>N.uid===G.uid);let Y={Ing:!1,QASign:"",PMSign:"",QAType:"",PMType:"",QAColor:"#888",PMColor:"#888"};return h&&(Y={Ing:!0,QASign:h.QASignStatus===0?"QA\u786E\u8BA4\u4E2D":h.QASignStatus===1?"QA\u5DF2\u786E\u8BA4":"QA\u5DF2\u62D2\u7EDD",PMSign:h.PMSignStatus===0?"PM\u786E\u8BA4\u4E2D":h.PMSignStatus===1?"PM\u5DF2\u786E\u8BA4":"PM\u5DF2\u62D2\u7EDD",QAType:h.QASignStatus===0?"":h.QASignStatus===1?"success":"danger",PMType:h.PMSignStatus===0?"":h.PMSignStatus===1?"success":"danger",QAColor:h.QASignStatus===0?"#5468ff":h.QASignStatus===1?"#32CD32":"red",PMColor:h.PMSignStatus===0?"#5468ff":h.PMSignStatus===1?"#32CD32":"red"}),Y}function k(G,h){let Y={},N={TASKING:"\u6D4B\u8BD5\u4E2D",TASKPASS:"\u6D4B\u8BD5\u901A\u8FC7",TASKRETURN:"\u6D4B\u8BD5\u9000\u56DE"};switch(h){case"TEST":Y=y.find(K=>K.uid===G.uid);break;case"UAT":N.TASKING="UAT\u9A8C\u6536\u4E2D",N.TASKPASS="UAT\u901A\u8FC7",N.TASKRETURN="UAT\u9000\u56DE",Y=I.find(K=>K.uid===G.uid);break;case"PROD":N.TASKING="\u4E0A\u7EBF\u5BA1\u6838\u4E2D",N.TASKPASS="\u4E0A\u7EBF\u901A\u8FC7",N.TASKRETURN="\u4E0A\u7EBF\u9000\u56DE",Y=V.find(K=>K.uid===G.uid);break}if(Y){let K={text:N.TASKING,type:"",color:"",status:Y.status};switch(Y.status){case"0":K.text=N.TASKING,K.type="",K.color="#5468ff";break;case"1":K.text=N.TASKPASS,K.type="success",K.color="#32CD32";break;case"-1":K.text=N.TASKRETURN,K.type="danger",K.color="red";break}return K}else return{text:"\u672A\u5F00\u59CB",type:"info",color:"#888",status:null}}function A(G,h){let Y={};switch(h){case"TEST":Y=y.find(N=>N.uid===G.uid);break;case"UAT":Y=I.find(N=>N.uid===G.uid);break;case"PROD":Y=V.find(N=>N.uid===G.uid);break}return Y?Y.task_id:null}async function M(){await Qt({id:o.params.id,uid:v.uid,release_id:v._id}),c()}async function U(){await Yt({id:o.params.id,uid:v.uid,userId:"622c6f088d60c24d97fed6d0"}),await g(),c()}async function D(){await Ot({id:o.params.id,uid:v.uid,userId:"622c6f088d60c24d97fed6d0"}),await r(),c()}async function O(){await Lt({id:o.params.id,uid:v.uid,userId:"622c6f088d60c24d97fed6d0"}),await _(),c()}return(G,h)=>{const Y=$("el-table-column"),N=$("el-tag"),K=$("el-button"),ze=$("el-table"),fe=$("el-col"),L=Ne,j=$("el-popconfirm"),_e=$("el-dialog"),Be=Se("load");return E(),C(q,null,[e("div",Fu,[t(ze,{data:s(p),style:{width:"100%"}},{default:l(()=>[t(Y,{prop:"uid",label:"\u7248\u672C","min-width":"110"},{default:l(T=>[e("span",wu,n(T.row.uid),1)]),_:1}),t(Y,{prop:"pack_id",label:"\u5305\u7248\u672C","min-width":"110"},{default:l(T=>[e("span",Au,n(T.row.pack_id),1)]),_:1}),t(Y,{prop:"name",label:"\u521B\u5EFA\u65F6\u95F4","min-width":"180"},{default:l(T=>[e("span",bu,n(s(ee)("YY-mm-dd HH:MM:SS",T.row.date)),1)]),_:1}),t(Y,{prop:"commit_id",label:"commit_id","min-width":"100"},{default:l(T=>[e("span",$u,n(T.row.commit_id),1)]),_:1}),t(Y,{prop:"name",label:"\u6D4B\u8BD5\u5DE5\u5355",width:"110"},{default:l(T=>[A(T.row,"TEST")?(E(),C("span",{key:0,class:"view-text",style:ne({color:k(T.row,"TEST").color}),onClick:ke=>s(i).push(`/main/test/${A(T.row,"TEST")}`)},n(A(T.row,"TEST")),13,yu)):(E(),C("span",Du,"\u6682\u65E0")),t(N,{class:"mx-1",effect:"dark",type:k(T.row,"TEST").type},{default:l(()=>[B(n(k(T.row,"TEST").text),1)]),_:2},1032,["type"])]),_:1}),t(Y,{prop:"name",label:"UAT\u5DE5\u5355",width:"110"},{default:l(T=>[A(T.row,"UAT")?(E(),C("span",{key:0,class:"view-text",style:ne({color:k(T.row,"UAT").color}),onClick:ke=>s(i).push(`/main/uat/${A(T.row,"UAT")}`)},n(A(T.row,"UAT")),13,Bu)):(E(),C("span",Cu,"\u6682\u65E0")),t(N,{class:"mx-1",effect:"dark",type:k(T.row,"UAT").type},{default:l(()=>[B(n(k(T.row,"UAT").text),1)]),_:2},1032,["type"])]),_:1}),t(Y,{prop:"name",label:"\u4E0A\u7EBF\u5DE5\u5355",width:"200"},{default:l(T=>[A(T.row,"PROD")?(E(),C("span",{key:0,class:"view-text",style:ne({color:k(T.row,"PROD").color}),onClick:ke=>s(i).push(`/main/prod/${A(T.row,"PROD")}`)},n(A(T.row,"PROD")),13,xu)):(E(),C("span",ku,"\u6682\u65E0")),w(T.row).Ing?(E(),C("div",Su,[t(N,{class:"mx-1",style:{"margin-right":"5px"},effect:"dark",type:w(T.row).QAType},{default:l(()=>[B(n(w(T.row).QASign),1)]),_:2},1032,["type"]),t(N,{style:{"margin-left":"5px"},class:"mx-1",effect:"dark",type:w(T.row).PMType},{default:l(()=>[B(n(w(T.row).PMSign),1)]),_:2},1032,["type"])])):(E(),C("div",ju,[t(N,{style:{"margin-right":"5px"},class:"mx-1",effect:"dark",type:"info"},{default:l(()=>[Tu]),_:1})]))]),_:1}),t(Y,{prop:"name",label:"\u73AF\u5883","min-width":"340"},{default:l(T=>[e("div",Vu,[Iu,e("div",Mu,[e("span",{style:ne({backgroundColor:T.row.DEV.status?"#5468ff":"#eee",color:T.row.DEV.status?"#fff":"#000"})},"DEV",4)]),e("div",Uu,[e("span",{style:ne({backgroundColor:T.row.TEST.status?"#E0E729":"#eee"})},"TEST",4)]),e("div",zu,[e("span",{style:ne({backgroundColor:T.row.UAT.status?"#E0E729":"#eee"})},"UAT",4)]),e("div",Pu,[e("span",{style:ne({backgroundColor:T.row.PROD.status?"#E0E729":"#eee"})},"PROD",4)])])]),_:1}),t(Y,{prop:"name",label:"\u64CD\u4F5C",fixed:"right",width:"100"},{default:l(T=>[t(K,{disabled:!s(F).permission(s(b),["pm","dev"]),style:{"font-size":"14px"},size:"small",onClick:ke=>u(T.row)},{default:l(()=>[Qu]),_:2},1032,["disabled","onClick"])]),_:1})]),_:1},8,["data"])]),t(_e,{modelValue:f.value,"onUpdate:modelValue":h[8]||(h[8]=T=>f.value=T),title:`\u3010${s(v).uid}\u3011\u7248\u672C\u6301\u7EED\u90E8\u7F72`,width:"1000px","before-close":T=>T()},{default:l(()=>[ge((E(),C("div",Nu,[t(L,{title:"\u8D44\u6E90\u73AF\u5883\u4FE1\u606F"},{"modal-body":l(()=>[e("div",Ru,[t(fe,{span:8,class:"modal-col"},{default:l(()=>[e("div",Hu,[Lu,e("div",Yu,[e("span",null,n(s(v).uid),1)])])]),_:1}),t(fe,{span:8,class:"modal-col"},{default:l(()=>[e("div",Ou,[Gu,e("div",Wu,[e("span",null,n(s(ee)("YY-mm-dd HH:MM:SS",s(v).date)),1)])])]),_:1}),t(fe,{span:8,class:"modal-col"},{default:l(()=>[e("div",Ku,[Ju,e("div",qu,[e("span",null,n(s(v).commit_id),1)])])]),_:1}),t(fe,{span:8,class:"modal-col"},{default:l(()=>[e("div",Xu,[Zu,e("div",en,[e("span",null,n(s(we)(s(v).size)),1)])])]),_:1}),t(fe,{span:8,class:"modal-col"},{default:l(()=>[e("div",tn,[sn,e("div",ln,[e("span",{style:ne({color:k(s(v),"TEST").color,fontWeight:700})},n(k(s(v),"TEST").text),5)])])]),_:1}),t(fe,{span:8,class:"modal-col"},{default:l(()=>[e("div",on,[an,e("div",un,[A(s(v),"TEST")?(E(),C("span",{key:0,class:"view-text",style:{color:"#5468ff"},onClick:h[0]||(h[0]=T=>s(i).push(`/main/test/${A(s(v),"TEST")}`))},n(A(s(v),"TEST")),1)):(E(),C("span",nn,"--"))])])]),_:1}),t(fe,{span:8,class:"modal-col"},{default:l(()=>[e("div",cn,[dn,e("div",rn,[e("span",{style:ne({color:k(s(v),"UAT").color,fontWeight:700})},n(k(s(v),"UAT").text),5)])])]),_:1}),t(fe,{span:8,class:"modal-col"},{default:l(()=>[e("div",_n,[pn,e("div",mn,[A(s(v),"UAT")?(E(),C("span",{key:0,class:"view-text",style:{color:"#5468ff"},onClick:h[1]||(h[1]=T=>s(i).push(`/main/uat/${A(s(v),"UAT")}`))},n(A(s(v),"UAT")),1)):(E(),C("span",fn,"--"))])])]),_:1}),t(fe,{span:8,class:"modal-col"},{default:l(()=>[e("div",hn,[vn,e("div",gn,[w(s(v)).Ing?(E(),C("div",En,[e("span",{style:ne({color:w(s(v)).QAColor,fontWeight:700,fontSize:"14px",marginRight:"5px"})},n(w(s(v)).QASign),5),e("span",{style:ne({color:w(s(v)).PMColor,fontWeight:700,fontSize:"14px",marginLeft:"5px"})},n(w(s(v)).PMSign),5)])):(E(),C("span",Fn,"\u672A\u5F00\u59CB"))])])]),_:1}),t(fe,{span:8,class:"modal-col"},{default:l(()=>[e("div",wn,[An,e("div",bn,[A(s(v),"PROD")?(E(),C("span",{key:0,class:"view-text",style:{color:"#5468ff"},onClick:h[2]||(h[2]=T=>s(i).push(`/main/prod/${A(s(v),"PROD")}`))},n(A(s(v),"PROD")),1)):(E(),C("span",$n,"--"))])])]),_:1})])]),_:1}),e("div",yn,[Dn,e("div",Bn,[e("span",{style:ne({backgroundColor:s(v).DEV.status?"#5468ff":"#eee",color:s(v).DEV.status?"#fff":"#000"})},"DEV\u73AF\u5883",4)]),e("div",Cn,[e("span",{style:ne({backgroundColor:s(v).TEST.status?"#E0E729":"#eee"})},"TEST\u73AF\u5883",4)]),e("div",xn,[e("span",{style:ne({backgroundColor:s(v).UAT.status?"#E0E729":"#eee"})},"UAT\u73AF\u5883",4)]),e("div",kn,[e("span",{style:ne({backgroundColor:s(v).PROD.status?"#E0E729":"#eee"})},"PROD\u73AF\u5883",4)])]),e("div",Sn,[t(j,{title:"\u786E\u5B9A\u64CD\u4F5C\uFF1F",confirmButtonText:"\u662F",cancelButtonText:"\u5426",onConfirm:h[3]||(h[3]=T=>d("DEV"))},{reference:l(()=>[t(K,{size:"small"},{default:l(()=>[jn]),_:1})]),_:1}),t(j,{title:"\u786E\u5B9A\u64CD\u4F5C\uFF1F",confirmButtonText:"\u662F",cancelButtonText:"\u5426",onConfirm:h[4]||(h[4]=T=>d("TEST"))},{reference:l(()=>[t(K,{size:"small",disabled:s(v).TEST.status||k(s(v),"TEST").status!=null},{default:l(()=>[Tn]),_:1},8,["disabled"])]),_:1}),t(j,{title:"\u786E\u5B9A\u64CD\u4F5C\uFF1F",confirmButtonText:"\u662F",cancelButtonText:"\u5426",onConfirm:h[5]||(h[5]=T=>d("UAT"))},{reference:l(()=>[t(K,{size:"small",disabled:s(v).UAT.status||k(s(v),"TEST").status!=1||k(s(v),"UAT").status!=null},{default:l(()=>[Vn]),_:1},8,["disabled"])]),_:1}),t(j,{title:"\u786E\u5B9A\u64CD\u4F5C\uFF1F",confirmButtonText:"\u662F",cancelButtonText:"\u5426",onConfirm:h[6]||(h[6]=T=>d("PROD"))},{reference:l(()=>[t(K,{size:"small",disabled:s(v).PROD.status||k(s(v),"TEST").status!=1||k(s(v),"PROD").status!=null},{default:l(()=>[In]),_:1},8,["disabled"])]),_:1})]),e("div",Mn,[t(K,{onClick:h[7]||(h[7]=T=>f.value=!1)},{default:l(()=>[Un]),_:1})])])),[[Be,x.value]])]),_:1},8,["modelValue","title","before-close"])],64)}}});var Pn=Z(zn,[["__scopeId","data-v-677c7c34"]]),Qn="/static/images/loading.png";const ot=a=>(ae("data-v-3796204d"),a=a(),ue(),a),Nn={key:0,class:"project-permission"},Rn=ot(()=>e("img",{src:Ie},null,-1)),Hn=ot(()=>e("span",null,"\u5F53\u524D\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3",-1)),Ln=[Rn,Hn],Yn={key:1,class:"instruction"},On={style:{"font-size":"14px","font-weight":"700",color:"#333"}},Gn={class:"args-item"},Wn=B("\u6267\u884C"),Kn=B("\u5220\u9664"),Jn={class:"instruction-add"},qn={class:"shell-command"},Xn=B("npm"),Zn=B("yarn"),ei={class:"shell-args"},ti=B("\u6DFB\u52A0"),si={class:"shell-footer"},li=B("\u4E2D\u65AD"),oi={class:"shell-text"},ai={key:0,src:Qn},ui=X({props:{project_id:{default:""}},setup(a){const m=a,F=de(),i=Qe("projectInfo");let o,p={};const f=z(null),y=z(!1),I=z(!1),V=P([]),x=P({project_id:m.project_id,command:"npm",args:""}),v=P([]);se(()=>{c(),d()});async function b(){if(!x.args){S.warning("\u6307\u4EE4\u53C2\u6570\u4E0D\u5B8C\u6574");return}(await bt(x)).code===200&&(x.args="",d(),S.success("\u6307\u4EE4\u6DFB\u52A0\u6210\u529F"))}async function d(){const A=await $t({project_id:m.project_id});A.code===200&&(V.splice(0,V.length),V.push(...A.data))}async function u(A){(await yt({commandId:A})).code===200&&(d(),S.success("\u6307\u4EE4\u5220\u9664\u6210\u529F"))}function c(){o=rt("wss://package-api.js-vue.com",{path:"/socket"}),o.on("init",M=>{console.log(M)}),o.on("project",k)}function g(A){let M={};switch(A){case"start":M.color="#eee";break;case"stderr":M.color="#F5361E";break;case"stdout":M.color="#409eff";break;case"close":M.color="#eee";break}return M}function r(){y.value&&(v.find(M=>M.type==="close")||_(),y.value=!1)}function _(){o.emit("shell-kill",{id:p.commandId})}function w(A){if(y.value){S.warning("\u547D\u4EE4\u6267\u884C\u5931\u8D25\uFF0C\u68C0\u6D4B\u5230\u5F53\u524D\u7CFB\u7EDF\u9A7B\u7559\u65E7\u7684shell\u547D\u4EE4\uFF01");return}I.value=!0,p=A,v.splice(0,v.length),v.push({type:"start",text:`\u7A0B\u5E8F\u5F00\u59CB\u6267\u884C ${A.command} ${A.args.join(" ")}

`}),y.value=!0;const{command:M,args:U,commandId:D}=p;o.emit("shell-project",{command:M,args:U,sid:D,id:m.project_id})}function k({type:A,text:M}){A==="close"&&(I.value=!1),v.push({type:A,text:M}),f.value&&(f.value.scrollTop=f.value.scrollHeight)}return(A,M)=>{const U=$("el-table-column"),D=$("el-button"),O=$("el-table"),G=$("el-radio"),h=$("el-input"),Y=Ae;return E(),C(q,null,[s(F).permission(s(i),["pm","dev"])?(E(),C("div",Yn,[t(O,{data:s(V),"empty-text":"\u6682\u65E0\u6307\u4EE4",style:{width:"100%"}},{default:l(()=>[t(U,{prop:"command",label:"command",width:"100"},{default:l(N=>[e("span",On,n(N.row.command),1)]),_:1}),t(U,{prop:"args",label:"args"},{default:l(N=>[e("div",Gn,[(E(!0),C(q,null,te(N.row.args,K=>(E(),C("span",null,n(K),1))),256))])]),_:1}),t(U,{label:"Operations",width:"180"},{default:l(N=>[t(D,{onClick:K=>w(N.row),size:"small",type:"primary"},{default:l(()=>[Wn]),_:2},1032,["onClick"]),t(D,{onClick:K=>u(N.row.commandId),size:"small",type:"danger"},{default:l(()=>[Kn]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e("div",Jn,[e("div",qn,[t(G,{modelValue:s(x).command,"onUpdate:modelValue":M[0]||(M[0]=N=>s(x).command=N),label:"npm",size:"large"},{default:l(()=>[Xn]),_:1},8,["modelValue"]),t(G,{modelValue:s(x).command,"onUpdate:modelValue":M[1]||(M[1]=N=>s(x).command=N),label:"yarn",size:"large"},{default:l(()=>[Zn]),_:1},8,["modelValue"])]),e("div",ei,[t(h,{modelValue:s(x).args,"onUpdate:modelValue":M[2]||(M[2]=N=>s(x).args=N),placeholder:"\u6307\u4EE4\u53C2\u6570\u4EE5\u9017\u53F7\u9694\u5F00"},null,8,["modelValue"]),t(D,{onClick:b,style:{"margin-left":"10px"}},{default:l(()=>[ti]),_:1})])])])):(E(),C("div",Nn,Ln)),y.value?(E(),H(Y,{key:2,config:{width:600,height:500,title:"\u8FDC\u7A0B\u7EC8\u7AEF",icon:"/static/images/powershell.png"},onClose:r},{main:l(()=>[e("div",si,[t(D,{type:"danger",style:{height:"24px",opacity:"0.3"},size:"small",onClick:_},{default:l(()=>[li]),_:1})]),e("div",{class:"shell-scroll",ref_key:"ShellBox",ref:f},[e("div",oi,[(E(!0),C(q,null,te(s(v),(N,K)=>(E(),C("p",{style:ne(g(N.type)),key:K},n(N.text),5))),128)),I.value?(E(),C("img",ai)):J("",!0)])],512)]),_:1},8,["config"])):J("",!0)],64)}}});var ni=Z(ui,[["__scopeId","data-v-3796204d"]]);const $e=a=>(ae("data-v-16b9d267"),a=a(),ue(),a),ii={key:0,class:"project-permission"},ci=$e(()=>e("img",{src:Ie},null,-1)),di=$e(()=>e("span",null,"\u5F53\u524D\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3",-1)),ri=[ci,di],_i={key:1,class:"config-dialog"},pi={class:"dialog-body"},mi={class:"config-child"},fi=$e(()=>e("span",{class:"label"},"\u9879\u76EE\u8D1F\u8D23\u4EBA",-1)),hi={style:{float:"left"}},vi={class:"config-child"},gi=$e(()=>e("span",{class:"label"},"\u6D4B\u8BD5\u4EBA\u5458",-1)),Ei={style:{float:"left"}},Fi={class:"config-child"},wi=$e(()=>e("span",{class:"label"},"\u5F00\u53D1\u6210\u5458",-1)),Ai={style:{float:"left"}},bi={class:"config-child"},$i=$e(()=>e("span",{class:"label"},"\u8D44\u6E90\u76EE\u5F55",-1)),yi={class:"config-child"},Di=$e(()=>e("span",{class:"label"},"\u9879\u76EE\u63CF\u8FF0",-1)),Bi={class:"config-child",style:{"align-items":"normal"}},Ci=$e(()=>e("span",{class:"label"},"\u9879\u76EE\u901A\u544A",-1)),xi={class:"btns"},ki=B("\u5173\u95ED"),Si=B("\u66F4\u65B0\u914D\u7F6E"),ji=X({emits:["close","read"],setup(a,{emit:m}){const F=de(),i=Qe("projectInfo"),o=P([]),p=z(!1),f=P({project_id:i.project_id,devs:i.devs,pm:i.pm,qa:i.qa,buildName:i.buildName,describe:i.describe,notice:i.notice});se(()=>{I()});async function y(){if(!F.permission(i,["pm"])){S.warning("\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3");return}p.value=!0;const V=await St(f);p.value=!1,V.code===200&&(S.success("\u66F4\u65B0\u6210\u529F"),m("read"))}async function I(){const V=await Fe();if(V.code===200){const x=V.data;o.splice(0,o.length),o.push(...x),f.devs=i.devs,f.pm=i.pm,f.qa=i.qa,f.buildName=i.buildName,f.describe=i.describe}}return(V,x)=>{const v=$("el-option"),b=$("el-select"),d=$("el-col"),u=$("el-input"),c=$("el-button"),g=Se("load");return s(F).permission(s(i),["pm","dev"])?ge((E(),C("div",_i,[e("div",pi,[t(d,{span:12,class:"config-col"},{default:l(()=>[e("div",mi,[fi,t(b,{style:{width:"100%"},modelValue:s(f).pm,"onUpdate:modelValue":x[0]||(x[0]=r=>s(f).pm=r),class:"m-2",placeholder:"Select"},{default:l(()=>[(E(!0),C(q,null,te(s(o),r=>(E(),H(v,{key:r.job_id,label:r.name,value:r.job_id},{default:l(()=>[e("span",hi,n(r.name)+"\uFF08"+n(r.jobName)+"\uFF09",1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),t(d,{span:12,class:"config-col"},{default:l(()=>[e("div",vi,[gi,t(b,{style:{width:"100%"},modelValue:s(f).qa,"onUpdate:modelValue":x[1]||(x[1]=r=>s(f).qa=r),class:"m-2",placeholder:"Select"},{default:l(()=>[(E(!0),C(q,null,te(s(o),r=>(E(),H(v,{key:r.job_id,label:r.name,value:r.job_id},{default:l(()=>[e("span",Ei,n(r.name)+"\uFF08"+n(r.jobName)+"\uFF09",1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),t(d,{span:24,class:"config-col"},{default:l(()=>[e("div",Fi,[wi,t(b,{multiple:"",style:{width:"100%"},modelValue:s(f).devs,"onUpdate:modelValue":x[2]||(x[2]=r=>s(f).devs=r),class:"m-2",placeholder:"Select"},{default:l(()=>[(E(!0),C(q,null,te(s(o),r=>(E(),H(v,{key:r.job_id,label:r.name,value:r.job_id},{default:l(()=>[e("span",Ai,n(r.name)+"\uFF08"+n(r.jobName)+"\uFF09",1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),t(d,{span:8,class:"config-col"},{default:l(()=>[e("div",bi,[$i,t(u,{modelValue:s(f).buildName,"onUpdate:modelValue":x[3]||(x[3]=r=>s(f).buildName=r)},null,8,["modelValue"])])]),_:1}),t(d,{span:16,class:"config-col"},{default:l(()=>[e("div",yi,[Di,t(u,{modelValue:s(f).describe,"onUpdate:modelValue":x[4]||(x[4]=r=>s(f).describe=r)},null,8,["modelValue"])])]),_:1}),t(d,{span:24,class:"config-col"},{default:l(()=>[e("div",Bi,[Ci,t(u,{rows:5,type:"textarea",resize:"none",modelValue:s(f).notice,"onUpdate:modelValue":x[5]||(x[5]=r=>s(f).notice=r)},null,8,["modelValue"])])]),_:1})]),e("div",xi,[t(c,{onClick:x[6]||(x[6]=Ee(r=>m("close"),["stop"]))},{default:l(()=>[ki]),_:1}),t(c,{onClick:y},{default:l(()=>[Si]),_:1})])])),[[g,p.value]]):(E(),C("div",ii,ri))}}});var Ti=Z(ji,[["__scopeId","data-v-16b9d267"]]);const pe=a=>(ae("data-v-3e3c12ac"),a=a(),ue(),a),Vi={key:0,class:"project-permission"},Ii=pe(()=>e("img",{src:Ie},null,-1)),Mi=pe(()=>e("span",null,"\u6743\u9650\u4E0D\u8DB3\uFF0C\u60A8\u4E0D\u5C5E\u4E8E\u8BE5\u9879\u76EE\u6210\u5458\uFF01",-1)),Ui=[Ii,Mi],zi={key:1,class:"project-details"},Pi={class:"basic-info"},Qi={class:"write-dialog"},Ni={class:"write-header"},Ri=pe(()=>e("div",{class:"write-title"},[e("span",null,"\u9879\u76EE\u914D\u7F6E\u4FE1\u606F")],-1)),Hi={class:"write-operate"},Li=B("\u8282\u70B9\u914D\u7F6E"),Yi=B("\u9879\u76EE\u4FE1\u606F\u914D\u7F6E"),Oi=B("\u6307\u4EE4\u96C6\u5408"),Gi=B("\u65B0\u7248\u672C\u6784\u5EFA"),Wi=B("\u5206\u652F\u7BA1\u7406"),Ki=B("Commit \u8BB0\u5F55"),Ji=B("PULL"),qi={style:{"padding-right":"30px","margin-top":"0px","box-sizing":"border-box"}},Xi={class:"write-child"},Zi=pe(()=>e("span",{class:"label"},"\u670D\u52A1\u540D",-1)),ec={class:"text"},tc={class:"write-child"},sc=pe(()=>e("span",{class:"label"},"\u5386\u53F2\u7248\u672C",-1)),lc={style:{"font-size":"16px"}},oc=B("\u6784\u5EFA"),ac={class:"write-child"},uc=pe(()=>e("span",{class:"label"},"\u6E90\u7801\u66F4\u65B0\u65F6\u95F4",-1)),nc={class:"text"},ic={class:"write-child"},cc=pe(()=>e("span",{class:"label"},"GIT\u5730\u5740",-1)),dc={class:"text"},rc={class:"write-child"},_c=pe(()=>e("span",{class:"label"},"\u672C\u5730\u5206\u652F",-1)),pc={style:{"font-size":"16px"}},mc={style:{"font-size":"16px","font-weight":"900","margin-left":"3px"}},fc=B(" \u5207\u6362"),hc={class:"write-child"},vc=pe(()=>e("span",{class:"label"},"\u6E90\u7801\u76EE\u5F55",-1)),gc={class:"text"},Ec={class:"write-child"},Fc=pe(()=>e("span",{class:"label"},"\u6D4B\u8BD5",-1)),wc={class:"text"},Ac={class:"write-child"},bc=pe(()=>e("span",{class:"label"},"\u9879\u76EE\u8D1F\u8D23\u4EBA",-1)),$c={class:"text"},yc={class:"write-child"},Dc=pe(()=>e("span",{class:"label"},"\u5F00\u53D1\u6210\u5458",-1)),Bc=["title"],Cc={class:"write-child"},xc=pe(()=>e("span",{class:"label"},"\u9879\u76EE\u63CF\u8FF0",-1)),kc=["title"],Sc={class:"write-child"},jc=pe(()=>e("span",{class:"label"},"\u5F00\u53D1\u8282\u70B9",-1)),Tc={class:"text"},Vc={class:"write-child"},Ic=pe(()=>e("span",{class:"label"},"\u751F\u4EA7\u8282\u70B9",-1)),Mc={class:"text"},Uc={class:"write-child"},zc={class:"label"},Pc={class:"text"},Qc=X({setup(a){const m=de();me();const F=Ce(),i=z(!1),o=z(!1),p=z(!1),f=z(!1),y=P({}),I=P([]),V=z(!1),x=P([]),v=z(""),b=P([]),d=z(!1),u=z(!1),c=z(!1),g=z(!1),r=z(!1),_=z(""),w=z(null),k=P([]),A=P({branch:"master",dev_ip:"",envs:{},date:0,describe:"",devs:[],gitUrl:"",localPath:"",name:"",pm:"",qa:"",notice:""});We("projectInfo",_t(A)),We("origin_pull",U),se(()=>{N(),O()});async function M(L=""){if(!m.permission(A,["pm","dev"])){S.warning("\u5F53\u524D\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3");return}L?r.value=!0:d.value=!0;const j=await zt({id:F.params.id,pack:L});d.value=!1,r.value=!1,j.code===200?(O(),S.success("\u7248\u672C\u6784\u5EFA\u6210\u529F"),w.value.vm_release_list()):S.error(j.msg)}async function U(L){if(!m.permission(A,["pm","dev"])){S.warning("\u5F53\u524D\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3");return}L||(c.value=!0);const j=await It({id:F.params.id});if(c.value=!1,L){L({status:j.code===200,msg:j.msg});return}S({showClose:!0,message:j.code===200?"\u66F4\u65B0\u6210\u529F":"\u66F4\u65B0\u5931\u8D25",type:j.code===200?"success":"warning"})}async function D(){var j;const L=await Pt({id:F.params.id});L.code===200?(b.splice(0,b.length),b.push(...L.data),_.value||(_.value=((j=b[0])==null?void 0:j.name)||"")):S.error(L.msg)}function O(){D(),ze(),K(),fe()}async function G(){if(!m.permission(A,["pm","dev"])){S.warning("\u5F53\u524D\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3");return}i.value=!0,g.value=!0;const L=await jt({branch:v.value,id:F.params.id});i.value=!1,g.value=!1,L.code===200?(O(),S.success("\u5206\u652F\u5207\u6362\u6210\u529F")):S.error(L.msg)}function h(L){if(L.length<1)return"";let j=[];return L.forEach(_e=>{const Be=I.find(T=>T.job_id===_e);j.push(Be==null?void 0:Be.name)}),j.join("\u3001")}function Y(L){const j=I.find(_e=>_e.job_id===L);return j==null?void 0:j.name}async function N(){const L=await Fe();if(L.code===200){const j=L.data;I.splice(0,I.length),I.push(...j)}}async function K(){const L=await Xe({id:F.params.id});if(L.code===200){v.value=L.data.current,x.splice(0,x.length);for(const j in L.data.branches)x.push(L.data.branches[j])}}async function ze(){const L=await Tt({id:F.params.id});if(L.code===200){k.splice(0,k.length),k.push(...L.data.all);for(const j in L.data.latest)y[j]=L.data.latest[j]}}async function fe(){i.value=!0;const L=await xt({id:F.params.id});if(i.value=!1,L.code===200)for(const j in L.data)A[j]=L.data[j]}return(L,j)=>{const _e=$("el-button"),Be=$("el-alert"),T=$("el-col"),ke=$("el-option"),Le=$("el-select");return s(m).permission(s(A),["qa","pm","dev"])?(E(),C("div",zi,[e("div",Pi,[e("div",Qi,[e("div",Ni,[Ri,e("div",Hi,[t(_e,{size:"small",disabled:!s(m).permission(s(A),["pm"]),onClick:j[0]||(j[0]=W=>o.value=!0)},{default:l(()=>[Li]),_:1},8,["disabled"]),t(_e,{size:"small",disabled:!s(m).permission(s(A),["pm"]),onClick:j[1]||(j[1]=W=>p.value=!0)},{default:l(()=>[Yi]),_:1},8,["disabled"]),t(_e,{size:"small",disabled:!s(m).permission(s(A),["pm","dev"]),onClick:j[2]||(j[2]=W=>f.value=!0)},{default:l(()=>[Oi]),_:1},8,["disabled"]),t(_e,{size:"small",disabled:!s(m).permission(s(A),["pm","dev"]),onClick:j[3]||(j[3]=W=>M("")),loading:d.value},{default:l(()=>[Gi]),_:1},8,["disabled","loading"]),t(_e,{size:"small",disabled:!s(m).permission(s(A),["pm","dev"]),onClick:j[4]||(j[4]=W=>V.value=!0)},{default:l(()=>[Wi]),_:1},8,["disabled"]),t(_e,{size:"small",onClick:j[5]||(j[5]=W=>u.value=!0)},{default:l(()=>[Ki]),_:1}),t(_e,{loading:c.value,disabled:!s(m).permission(s(A),["pm","dev"]),size:"small",onClick:j[6]||(j[6]=W=>U(null))},{default:l(()=>[Ji]),_:1},8,["loading","disabled"])])]),t(T,{span:24,class:"write-col"},{default:l(()=>[e("div",qi,[t(Be,{style:{"margin-top":"20px"},"show-icon":"",closable:!0,title:s(A).notice,type:"warning"},null,8,["title"])])]),_:1}),t(T,{span:8,class:"write-col"},{default:l(()=>[e("div",Xi,[Zi,e("div",ec,[e("span",null,n(s(A).name),1)])])]),_:1}),t(T,{span:8,class:"write-col"},{default:l(()=>[e("div",tc,[sc,t(Le,{disabled:!s(m).permission(s(A),["pm","dev"]),style:{width:"100%"},modelValue:_.value,"onUpdate:modelValue":j[7]||(j[7]=W=>_.value=W),class:"m-2",placeholder:"Select"},{default:l(()=>[(E(!0),C(q,null,te(s(b),(W,Me)=>(E(),H(ke,{key:Me,label:W.name,value:W.name},{default:l(()=>[e("span",lc,n(W.name)+" "+n(s(ee)("YY-mm-dd HH:MM:SS",W.atimeMs)),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["disabled","modelValue"]),t(_e,{disabled:!s(m).permission(s(A),["pm","dev"]),loading:r.value,onClick:j[8]||(j[8]=W=>M(_.value)),style:{"margin-left":"10px"}},{default:l(()=>[oc]),_:1},8,["disabled","loading"])])]),_:1}),t(T,{span:8,class:"write-col"},{default:l(()=>[e("div",ac,[uc,e("div",nc,[e("span",null,n(s(ee)("YY-mm-dd HH:MM:SS",s(y).date)),1)])])]),_:1}),t(T,{span:16,class:"write-col"},{default:l(()=>[e("div",ic,[cc,e("div",dc,[e("span",null,n(s(A).gitUrl),1)])])]),_:1}),t(T,{span:8,class:"write-col"},{default:l(()=>[e("div",rc,[_c,t(Le,{disabled:!s(m).permission(s(A),["pm","dev"]),style:{width:"100%"},modelValue:v.value,"onUpdate:modelValue":j[9]||(j[9]=W=>v.value=W),class:"m-2",placeholder:"Select"},{default:l(()=>[(E(!0),C(q,null,te(s(x),W=>(E(),H(ke,{key:W.commit,label:W.name,value:W.name},{default:l(()=>[e("span",pc,[B(n(W.name)+" ",1),e("span",mc,n(W.current?"*":""),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["disabled","modelValue"]),t(_e,{disabled:!s(m).permission(s(A),["pm","dev"]),loading:g.value,onClick:G,style:{"margin-left":"10px"}},{default:l(()=>[fc]),_:1},8,["disabled","loading"])])]),_:1}),t(T,{span:16,class:"write-col"},{default:l(()=>[e("div",hc,[vc,e("div",gc,[e("span",null,n(s(A).sourceCode),1)])])]),_:1}),t(T,{span:8,class:"write-col"},{default:l(()=>[e("div",Ec,[Fc,e("div",wc,[e("span",null,n(Y(s(A).qa)),1)])])]),_:1}),t(T,{span:8,class:"write-col"},{default:l(()=>[e("div",Ac,[bc,e("div",$c,[e("span",null,n(Y(s(A).pm)),1)])])]),_:1}),t(T,{span:16,class:"write-col"},{default:l(()=>[e("div",yc,[Dc,e("div",{class:"text",title:h(s(A).devs)},[e("span",null,n(h(s(A).devs)),1)],8,Bc)])]),_:1}),t(T,{span:12,class:"write-col"},{default:l(()=>[e("div",Cc,[xc,e("div",{class:"text",title:s(A).describe},[e("span",null,n(s(A).describe),1)],8,kc)])]),_:1}),t(T,{span:6,class:"write-col"},{default:l(()=>[e("div",Sc,[jc,e("div",Tc,[e("span",null,n(s(A).dev_ip||"\u672A\u6307\u5B9A"),1)])])]),_:1}),t(T,{span:6,class:"write-col"},{default:l(()=>[e("div",Vc,[Ic,e("div",Mc,[e("span",null,n(s(A).prod_ip||"\u672A\u6307\u5B9A"),1)])])]),_:1}),(E(!0),C(q,null,te(s(A).envs,(W,Me)=>(E(),H(T,{span:6,class:"write-col",key:Me},{default:l(()=>[e("div",Uc,[e("span",zc,n(Me)+"\u7AEF\u53E3",1),e("div",Pc,[e("span",null,n((W==null?void 0:W.port)||"\u672A\u6307\u5B9A\u7AEF\u53E3"),1)])])]),_:2},1024))),128))])]),t(Pn,{ref_key:"ReleaseRef",ref:w},null,512),u.value?(E(),H(Ae,{key:0,config:{width:880,height:500,title:"Commit \u63D0\u4EA4\u8BB0\u5F55",icon:"/static/images/record.png"},onClose:j[10]||(j[10]=W=>u.value=!1)},{main:l(()=>[u.value?(E(),H(ka,{key:0,versions:s(k),loading:i.value},null,8,["versions","loading"])):J("",!0)]),_:1},8,["config"])):J("",!0),o.value?(E(),H(Ae,{key:1,config:{width:880,height:500,title:"\u8282\u70B9\u914D\u7F6E",icon:"/static/images/config.png"},onClose:j[12]||(j[12]=W=>o.value=!1)},{main:l(()=>[o.value?(E(),H(tu,{key:0,configVisible:o.value,projectInfo:s(A),onClose:j[11]||(j[11]=W=>o.value=!1),onRead:O},null,8,["configVisible","projectInfo"])):J("",!0)]),_:1},8,["config"])):J("",!0),V.value?(E(),H(Ae,{key:2,config:{width:400,height:500,title:"\u5206\u652F\u7BA1\u7406",icon:"/static/images/config.png"},onClose:j[14]||(j[14]=W=>V.value=!1)},{main:l(()=>[V.value?(E(),H(Eu,{key:0,projectInfo:s(A),onClose:j[13]||(j[13]=W=>V.value=!1),onRead:O},null,8,["projectInfo"])):J("",!0)]),_:1},8,["config"])):J("",!0),f.value?(E(),H(Ae,{key:3,config:{width:600,height:500,title:"\u81EA\u5B9A\u4E49\u6307\u4EE4\u96C6\u5408",icon:"/static/images/code.png"},onClose:j[15]||(j[15]=W=>f.value=!1)},{main:l(()=>[t(ni,{project_id:s(A).project_id},null,8,["project_id"])]),_:1},8,["config"])):J("",!0),p.value?(E(),H(Ae,{key:4,config:{width:800,height:400,title:"\u9879\u76EE\u4FE1\u606F\u914D\u7F6E",icon:"/static/images/config.png"},onClose:j[17]||(j[17]=W=>p.value=!1)},{main:l(()=>[t(Ti,{projectInfo:s(A),onRead:O,onClose:j[16]||(j[16]=W=>p.value=!1)},null,8,["projectInfo"])]),_:1},8,["config"])):J("",!0)])):(E(),C("div",Vi,Ui))}}});var Nc=Z(Qc,[["__scopeId","data-v-3e3c12ac"]]);const ye=a=>(ae("data-v-096e3cb5"),a=a(),ue(),a),Rc={class:"host"},Hc={class:"host-bar"},Lc=B("\u65B0\u5EFA"),Yc={class:"host-list"},Oc={class:"example-top"},Gc=["src"],Wc=B("\u8BE6\u60C5"),Kc=B("\u5220\u9664 "),Jc={class:"example-info"},qc=B(" IPV4\u5730\u5740 "),Xc={class:"text",style:{color:"#0053CA"}},Zc=B(" \u7AEF\u53E3 "),ed={class:"text",style:{color:"#0053CA"}},td=B(" \u7CFB\u7EDF "),sd={class:"text"},ld=B(" CPU\u67B6\u6784 "),od={class:"text"},ad=B(" CPU "),ud={class:"text"},nd=B(" \u5185\u5B58 "),id={class:"text"},cd={class:"host-dialog"},dd={class:"host-child"},rd=ye(()=>e("span",{class:"label"},"IPV4\u5730\u5740",-1)),_d=B("\xA0:\xA0 "),pd=B("\u52A0\u8F7D\u670D\u52A1\u5668\u914D\u7F6E"),md=B("\u6DFB\u52A0\u8BE5\u8282\u70B9"),fd={class:"host-child"},hd=ye(()=>e("span",{class:"label"},"\u4E3B\u673AIP",-1)),vd={class:"text"},gd={class:"host-child"},Ed=ye(()=>e("span",{class:"label"},"\u4E3B\u673A\u7AEF\u53E3",-1)),Fd={class:"text"},wd={class:"host-child"},Ad=ye(()=>e("span",{class:"label"},"CPU\u6838\u5FC3\u6570",-1)),bd={class:"text"},$d={class:"host-child"},yd=ye(()=>e("span",{class:"label"},"\u5185\u5B58",-1)),Dd={class:"text"},Bd={class:"host-child"},Cd=ye(()=>e("span",{class:"label"},"\u4E3B\u673A\u540D\u79F0",-1)),xd={class:"text"},kd={class:"host-child"},Sd=ye(()=>e("span",{class:"label"},"\u7CFB\u7EDF",-1)),jd={class:"text"},Td={class:"host-child"},Vd=ye(()=>e("span",{class:"label"},"CPU\u67B6\u6784",-1)),Id={class:"text"},Md={class:"host-child"},Ud={class:"label"},zd={class:"text"},Pd=X({setup(a){const m=me(),F=de(),i=z(!1),o=z(""),p=z(9001),f=P({ip:"",port:0,cpus:[],totalmem:0,arch:"",platform:"",disk:[]}),y=P([]);se(()=>{c()});function I(g){m.push(`/main/host/${g}`)}function V(){f.ip="",f.hostname="",f.port=0,f.cpus=[],f.totalmem=0,f.arch="",f.platform="",f.disk=[]}async function x(){if(!o.value){S.warning("\u7F3A\u5C11\u3010IP/\u7AEF\u53E3\u3011\u4FE1\u606F");return}V(),F.setLoad(!0);const g=await qt({ip:o.value,port:p.value});if(F.setLoad(!1),g.code===200){f.ip=o.value,f.port=p.value,(g.data.cpus||[]).forEach(w=>{delete w.times}),f.cpus=g.data.cpus,f.hostname=g.data.hostname,f.totalmem=g.data.totalmem,f.arch=g.data.arch,f.platform=g.data.platform;const r=g.data.disk||[],_=[];r.forEach(w=>{isNaN(parseInt(w.blocks))||parseInt(w.blocks)>0&&(w.schedule=Ul(parseInt(w.blocks)-parseInt(w.available),parseInt(w.blocks)),w.color="#42A0D2",w.schedule>60&&(w.color="#E2A34C"),w.schedule>90&&(w.color="#F87544"),_.push(w))}),f.disk=_}else S.warning("\u914D\u7F6E\u52A0\u8F7D\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u96C6\u7FA4\u5B50\u8282\u70B9\u670D\u52A1\u5668\u914D\u7F6E")}async function v(){V(),i.value=!0}async function b(g){if(F.personal.access!="1"){S.warning("\u6743\u9650\u4E0D\u8DB3\uFF0C\u9700\u8981\u8D85\u7EA7\u7528\u6237\u6743\u9650\uFF01");return}const r=await Zt({ip:g});c(),r.code===200&&S.success("\u96C6\u7FA4\u5B50\u8282\u70B9\u5220\u9664\u6210\u529F")}async function d(){const g=JSON.parse(JSON.stringify(f));if(delete g.disk,!g.ip)return;const r=await Xt(g);c(),r.code===200?(i.value=!1,S.success("\u96C6\u7FA4\u5B50\u8282\u70B9\u521B\u5EFA\u6210\u529F")):S.warning(r.msg)}function u(g){let r="/static/images/linux.png";switch(g){case"Linux":r="/static/images/linux.png";break;case"MacOS":r="/static/images/mac.png";break;case"win32":r="/static/images/windows.png";break}return r}async function c(){F.setLoad(!0);const g=await st();F.setLoad(!1),g.code===200&&(y.splice(0,y.length),y.push(...g.data))}return(g,r)=>{const _=$("el-alert"),w=$("el-button"),k=$("el-popconfirm"),A=$("el-input"),M=$("el-col");return E(),C(q,null,[e("div",Rc,[t(_,{"show-icon":"",closable:!1,title:"\u521A\u521B\u5EFA\u7684\u9879\u76EE\uFF0C\u9700\u8FDB\u5165\u8BE6\u60C5\u5185\u70B9\u51FB\u3010\u4E00\u952E\u542F\u52A8/\u91CD\u542F\u3011\u5C06\u9759\u6001\u8D44\u6E90\u6CE8\u518C\u5230\u8FDB\u7A0B\u4E2D\u3002\u5220\u9664\u8282\u70B9\u9700\u8981\u6709\u8D85\u7EA7\u7BA1\u7406\u5458\u6743\u9650\uFF01\u670D\u52A1\u5668\u96C6\u7FA4\u8282\u70B9\u652F\u6301\u3010mac/linux/windows\u3011\u7CFB\u7EDF\u3002",type:"warning"}),e("div",Hc,[t(w,{type:"primary",onClick:r[0]||(r[0]=U=>v())},{default:l(()=>[Lc]),_:1})]),e("div",Yc,[(E(!0),C(q,null,te(s(y),U=>{var D;return E(),C("div",{class:"host-example",key:U._id},[e("div",Oc,[e("img",{src:`${u(U.platform)}`},null,8,Gc),e("span",null,n(U.hostname),1),t(w,{type:"text",size:"small",onClick:O=>I(U.ip)},{default:l(()=>[Wc]),_:2},1032,["onClick"]),t(k,{"confirm-button-text":"\u786E\u5B9A","cancel-button-text":"\u53D6\u6D88","icon-color":"#626AEF",title:"\u786E\u8BA4\u5220\u9664\u8BE5\u8282\u70B9\uFF1F",onConfirm:O=>b(U.ip)},{reference:l(()=>[t(w,{type:"text",size:"small"},{default:l(()=>[Kc]),_:1})]),_:2},1032,["onConfirm"])]),e("div",Jc,[e("span",null,[qc,e("span",Xc,n(U.ip),1),Zc,e("span",ed,n(U.port),1)]),e("span",null,[td,e("span",sd,n(U.platform),1),ld,e("span",od,n(U.arch),1),ad,e("span",ud,n((D=U==null?void 0:U.cpus)==null?void 0:D.length)+"\u6838",1),nd,e("span",id,n(s(we)(U.totalmem)),1)])])])}),128))])]),i.value?(E(),H(Ae,{key:0,config:{width:800,height:550,title:"\u6DFB\u52A0\u96C6\u7FA4\u8282\u70B9",icon:"/static/images/host.png"},onClose:r[3]||(r[3]=U=>i.value=!1)},{main:l(()=>[e("div",cd,[t(M,{span:24,class:"host-col"},{default:l(()=>[e("div",dd,[rd,t(A,{modelValue:o.value,"onUpdate:modelValue":r[1]||(r[1]=U=>o.value=U),size:"small",placeholder:"\u524D\u7F6E\u6761\u4EF6\uFF1A\u9700\u8981\u5728\u76EE\u6807\u670D\u52A1\u5668\u5185\u90E8\u7F72\u96C6\u7FA4\u5B50\u5E94\u7528"},null,8,["modelValue"]),_d,t(A,{modelValue:p.value,"onUpdate:modelValue":r[2]||(r[2]=U=>p.value=U),style:{width:"100px"},size:"small",placeholder:"\u7AEF\u53E3"},null,8,["modelValue"]),t(w,{style:{"margin-left":"10px"},size:"small",type:"primary",onClick:x},{default:l(()=>[pd]),_:1}),t(w,{style:{"margin-left":"10px"},disabled:!s(f).ip,size:"small",type:"warning",onClick:d},{default:l(()=>[md]),_:1},8,["disabled"])])]),_:1}),t(M,{span:8,class:"host-col"},{default:l(()=>[e("div",fd,[hd,e("div",vd,[e("span",null,n(s(f).ip),1)])])]),_:1}),t(M,{span:8,class:"host-col"},{default:l(()=>[e("div",gd,[Ed,e("div",Fd,[e("span",null,n(s(f).port),1)])])]),_:1}),t(M,{span:8,class:"host-col"},{default:l(()=>{var U;return[e("div",wd,[Ad,e("div",bd,[e("span",null,n((U=s(f).cpus)==null?void 0:U.length),1)])])]}),_:1}),t(M,{span:8,class:"host-col"},{default:l(()=>[e("div",$d,[yd,e("div",Dd,[e("span",null,n(s(we)(s(f).totalmem)),1)])])]),_:1}),t(M,{span:16,class:"host-col"},{default:l(()=>[e("div",Bd,[Cd,e("div",xd,[e("span",null,n(s(f).hostname),1)])])]),_:1}),t(M,{span:8,class:"host-col"},{default:l(()=>[e("div",kd,[Sd,e("div",jd,[e("span",null,n(s(f).platform),1)])])]),_:1}),t(M,{span:8,class:"host-col"},{default:l(()=>[e("div",Td,[Vd,e("div",Id,[e("span",null,n(s(f).arch),1)])])]),_:1}),(E(!0),C(q,null,te(s(f).cpus,(U,D)=>(E(),H(M,{span:12,class:"host-col",key:D},{default:l(()=>[e("div",Md,[e("span",Ud,"CPU\u6838\u5FC3"+n(D+1),1),e("div",zd,[e("span",null,n(U.model)+"\xA0\xA0\xA0@"+n((U.speed*.1).toFixed(2))+"GHz",1)])])]),_:2},1024))),128))])]),_:1},8,["config"])):J("",!0)],64)}}});var Qd=Z(Pd,[["__scopeId","data-v-096e3cb5"]]);const Re=a=>(ae("data-v-8e97b66a"),a=a(),ue(),a),Nd={class:"apply-test"},Rd={class:"test-operate"},Hd={class:"write-dialog"},Ld={class:"write-child"},Yd=Re(()=>e("span",{class:"label"},"\u4EFB\u52A1\u53F7",-1)),Od={class:"text"},Gd={class:"write-child"},Wd=Re(()=>e("span",{class:"label"},"\u90E8\u7F72\u72B6\u6001",-1)),Kd={class:"text"},Jd={class:"write-child"},qd=Re(()=>e("span",{class:"label"},"\u5DE5\u5355\u72B6\u6001",-1)),Xd={class:"text"},Zd=B("\u67E5\u8BE2"),er=B("\u6E05\u7A7A"),tr={class:"test-list"},sr={style:{"font-size":"14px","font-weight":"700",color:"#888"}},lr={style:{color:"#888","font-size":"14px"}},or=B("\u8BE6\u60C5"),ar={class:"pagination"},ur=X({setup(a){const m=de(),F=me(),i=P({task_id:"",releaseStatus:"99",status:"99",pageIndex:1,pageSize:10}),o=z(0),p=P([]);se(()=>{V(),b()});const f=P([]);function y(d){let u={text:"\u6D4B\u8BD5\u4E2D",type:""};switch(d){case"0":u.text="\u6D4B\u8BD5\u4E2D",u.type="info";break;case"1":u.text="\u6D4B\u8BD5\u901A\u8FC7",u.type="success";break;case"-1":u.text="\u6D4B\u8BD5\u9000\u56DE",u.type="danger";break}return u}function I(d){const u=p.find(c=>c.job_id===d);return u==null?void 0:u.name}async function V(){const d=await Fe();if(d.code===200){const u=d.data;p.splice(0,p.length),p.push(...u),console.log(p)}}function x(){let d={task_id:"",releaseStatus:"99",status:"99",pageIndex:1,pageSize:10};for(const u in d)i[u]=d[u];b()}function v(d){i.pageIndex=d,b()}async function b(){i.releaseStatus||(i.releaseStatus="99"),i.status||(i.status="99"),m.setLoad(!0);const d=await Ze(i);m.setLoad(!1),d.code===200&&(f.splice(0,f.length),f.push(...d.data),o.value=d.total)}return(d,u)=>{const c=$("el-input"),g=$("el-col"),r=$("el-option"),_=$("el-select"),w=$("el-button"),k=$("el-table-column"),A=$("el-tag"),M=$("el-table"),U=$("el-pagination");return E(),C("div",Nd,[e("div",Rd,[e("div",Hd,[t(g,{span:6,class:"write-col"},{default:l(()=>[e("div",Ld,[Yd,e("div",Od,[t(c,{clearable:"",onClear:b,modelValue:s(i).task_id,"onUpdate:modelValue":u[0]||(u[0]=D=>s(i).task_id=D),placeholder:"\u4EFB\u52A1\u5DE5\u5355ID"},null,8,["modelValue"])])])]),_:1}),t(g,{span:6,class:"write-col"},{default:l(()=>[e("div",Gd,[Wd,e("div",Kd,[t(_,{clearable:"",onClear:b,style:{"margin-right":"10px",width:"100%"},modelValue:s(i).releaseStatus,"onUpdate:modelValue":u[1]||(u[1]=D=>s(i).releaseStatus=D),class:"m-2",size:"small"},{default:l(()=>[t(r,{label:"\u5168\u90E8",value:"99"}),t(r,{label:"\u672A\u90E8\u7F72",value:"0"}),t(r,{label:"\u5DF2\u90E8\u7F72",value:"1"})]),_:1},8,["modelValue"])])])]),_:1}),t(g,{span:6,class:"write-col"},{default:l(()=>[e("div",Jd,[qd,e("div",Xd,[t(_,{clearable:"",onClear:b,style:{"margin-right":"10px",width:"100%"},modelValue:s(i).status,"onUpdate:modelValue":u[2]||(u[2]=D=>s(i).status=D),class:"m-2",size:"small"},{default:l(()=>[t(r,{label:"\u5168\u90E8",value:"99"}),t(r,{label:"\u6D4B\u8BD5\u4E2D",value:"0"}),t(r,{label:"\u6D4B\u8BD5\u901A\u8FC7",value:"1"}),t(r,{label:"\u6D4B\u8BD5\u9000\u56DE",value:"-1"})]),_:1},8,["modelValue"])])])]),_:1}),t(g,{span:6,class:"write-col"},{default:l(()=>[t(w,{type:"primary",onClick:b},{default:l(()=>[Zd]),_:1}),t(w,{type:"success",onClick:x},{default:l(()=>[er]),_:1})]),_:1})])]),e("div",tr,[t(M,{data:s(f),style:{width:"100%"}},{default:l(()=>[t(k,{prop:"name",label:"\u9879\u76EE","min-width":"200"},{default:l(D=>[e("span",sr,n(D.row.project.name),1)]),_:1}),t(k,{prop:"task_id",label:"\u4EFB\u52A1\u53F7","min-width":"120"},{default:l(D=>[e("span",null,n(D.row.task_id),1)]),_:1}),t(k,{prop:"commit_id",label:"commit_id","min-width":"120"},{default:l(D=>[e("span",null,n(D.row.commit_id),1)]),_:1}),t(k,{prop:"date",label:"\u5DE5\u5355\u72B6\u6001","min-width":"120"},{default:l(D=>[t(A,{class:"mx-1",type:y(D.row.status).type},{default:l(()=>[B(n(y(D.row.status).text),1)]),_:2},1032,["type"])]),_:1}),t(k,{prop:"date",label:"\u90E8\u7F72\u72B6\u6001","min-width":"120"},{default:l(D=>[t(A,{class:"mx-1",type:y(D.row.releaseStatus).type},{default:l(()=>[B(n(D.row.releaseStatus==="1"?"\u5DF2\u90E8\u7F72":"\u672A\u90E8\u7F72"),1)]),_:2},1032,["type"])]),_:1}),t(k,{label:"\u521B\u5EFA\u8005","min-width":"120"},{default:l(D=>[e("span",lr,n(I(D.row.createUserId)),1)]),_:1}),t(k,{prop:"date",label:"\u521B\u5EFA\u65F6\u95F4","min-width":"150"},{default:l(D=>[e("span",null,n(s(ee)("YY-mm-dd HH:MM:SS",D.row.date)),1)]),_:1}),t(k,{prop:"project.describe",label:"\u9879\u76EE\u63CF\u8FF0","min-width":"180"}),t(k,{label:"\u64CD\u4F5C",width:"80",fixed:"right"},{default:l(D=>[t(w,{type:"text",onClick:O=>s(F).push(`/main/test/${D.row.task_id}`)},{default:l(()=>[or]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),e("div",ar,[t(U,{background:"",style:{"margin-right":"-10px"},layout:"total ,prev, pager, next",total:o.value,"page-size":s(i).pageSize,onCurrentChange:v},null,8,["total","page-size"])])])}}});var nr=Z(ur,[["__scopeId","data-v-8e97b66a"]]);const He=a=>(ae("data-v-fe216916"),a=a(),ue(),a),ir={class:"apply-test"},cr={class:"test-operate"},dr={class:"write-dialog"},rr={class:"write-child"},_r=He(()=>e("span",{class:"label"},"\u4EFB\u52A1\u53F7",-1)),pr={class:"text"},mr={class:"write-child"},fr=He(()=>e("span",{class:"label"},"\u90E8\u7F72\u72B6\u6001",-1)),hr={class:"text"},vr={class:"write-child"},gr=He(()=>e("span",{class:"label"},"\u5DE5\u5355\u72B6\u6001",-1)),Er={class:"text"},Fr=B("\u67E5\u8BE2"),wr=B("\u6E05\u7A7A"),Ar={class:"test-list"},br={style:{"font-size":"14px","font-weight":"700",color:"#888"}},$r={style:{color:"#888","font-size":"14px"}},yr=B("\u8BE6\u60C5"),Dr={class:"pagination"},Br=X({setup(a){const m=de(),F=me(),i=P({task_id:"",releaseStatus:"99",status:"99",pageIndex:1,pageSize:10}),o=z(0),p=P([]);se(()=>{V(),b()});const f=P([]);function y(d){let u={text:"\u6D4B\u8BD5\u4E2D",type:""};switch(d){case"0":u.text="\u6D4B\u8BD5\u4E2D",u.type="info";break;case"1":u.text="\u6D4B\u8BD5\u901A\u8FC7",u.type="success";break;case"-1":u.text="\u6D4B\u8BD5\u9000\u56DE",u.type="danger";break}return u}function I(d){const u=p.find(c=>c.job_id===d);return u==null?void 0:u.name}async function V(){const d=await Fe();if(d.code===200){const u=d.data;p.splice(0,p.length),p.push(...u),console.log(p)}}function x(){let d={task_id:"",releaseStatus:"99",status:"99",pageIndex:1,pageSize:10};for(const u in d)i[u]=d[u];b()}function v(d){i.pageIndex=d,b()}async function b(){i.releaseStatus||(i.releaseStatus="99"),i.status||(i.status="99"),m.setLoad(!0);const d=await et(i);m.setLoad(!1),d.code===200&&(f.splice(0,f.length),f.push(...d.data),o.value=d.total)}return(d,u)=>{const c=$("el-input"),g=$("el-col"),r=$("el-option"),_=$("el-select"),w=$("el-button"),k=$("el-table-column"),A=$("el-tag"),M=$("el-table"),U=$("el-pagination");return E(),C("div",ir,[e("div",cr,[e("div",dr,[t(g,{span:6,class:"write-col"},{default:l(()=>[e("div",rr,[_r,e("div",pr,[t(c,{clearable:"",onClear:b,modelValue:s(i).task_id,"onUpdate:modelValue":u[0]||(u[0]=D=>s(i).task_id=D),placeholder:"\u4EFB\u52A1\u5DE5\u5355ID"},null,8,["modelValue"])])])]),_:1}),t(g,{span:6,class:"write-col"},{default:l(()=>[e("div",mr,[fr,e("div",hr,[t(_,{clearable:"",onClear:b,style:{"margin-right":"10px",width:"100%"},modelValue:s(i).releaseStatus,"onUpdate:modelValue":u[1]||(u[1]=D=>s(i).releaseStatus=D),class:"m-2",size:"small"},{default:l(()=>[t(r,{label:"\u5168\u90E8",value:"99"}),t(r,{label:"\u672A\u90E8\u7F72",value:"0"}),t(r,{label:"\u5DF2\u90E8\u7F72",value:"1"})]),_:1},8,["modelValue"])])])]),_:1}),t(g,{span:6,class:"write-col"},{default:l(()=>[e("div",vr,[gr,e("div",Er,[t(_,{clearable:"",onClear:b,style:{"margin-right":"10px",width:"100%"},modelValue:s(i).status,"onUpdate:modelValue":u[2]||(u[2]=D=>s(i).status=D),class:"m-2",size:"small"},{default:l(()=>[t(r,{label:"\u5168\u90E8",value:"99"}),t(r,{label:"\u6D4B\u8BD5\u4E2D",value:"0"}),t(r,{label:"\u6D4B\u8BD5\u901A\u8FC7",value:"1"}),t(r,{label:"\u6D4B\u8BD5\u9000\u56DE",value:"-1"})]),_:1},8,["modelValue"])])])]),_:1}),t(g,{span:6,class:"write-col"},{default:l(()=>[t(w,{type:"primary",onClick:b},{default:l(()=>[Fr]),_:1}),t(w,{type:"success",onClick:x},{default:l(()=>[wr]),_:1})]),_:1})])]),e("div",Ar,[t(M,{data:s(f),height:550,style:{width:"100%"}},{default:l(()=>[t(k,{prop:"name",label:"\u9879\u76EE","min-width":"200"},{default:l(D=>[e("span",br,n(D.row.project.name),1)]),_:1}),t(k,{prop:"task_id",label:"\u4EFB\u52A1\u53F7","min-width":"120"},{default:l(D=>[e("span",null,n(D.row.task_id),1)]),_:1}),t(k,{prop:"commit_id",label:"commit_id","min-width":"120"},{default:l(D=>[e("span",null,n(D.row.commit_id),1)]),_:1}),t(k,{prop:"date",label:"\u5DE5\u5355\u72B6\u6001","min-width":"120"},{default:l(D=>[t(A,{class:"mx-1",type:y(D.row.status).type},{default:l(()=>[B(n(y(D.row.status).text),1)]),_:2},1032,["type"])]),_:1}),t(k,{prop:"date",label:"\u90E8\u7F72\u72B6\u6001","min-width":"120"},{default:l(D=>[t(A,{class:"mx-1",type:y(D.row.releaseStatus).type},{default:l(()=>[B(n(D.row.releaseStatus==="1"?"\u5DF2\u90E8\u7F72":"\u672A\u90E8\u7F72"),1)]),_:2},1032,["type"])]),_:1}),t(k,{label:"\u521B\u5EFA\u8005","min-width":"120"},{default:l(D=>[e("span",$r,n(I(D.row.createUserId)),1)]),_:1}),t(k,{prop:"date",label:"\u521B\u5EFA\u65F6\u95F4","min-width":"150"},{default:l(D=>[e("span",null,n(s(ee)("YY-mm-dd HH:MM:SS",D.row.date)),1)]),_:1}),t(k,{prop:"project.describe",label:"\u9879\u76EE\u63CF\u8FF0","min-width":"180"}),t(k,{label:"\u64CD\u4F5C",width:"80",fixed:"right"},{default:l(D=>[t(w,{type:"text",onClick:O=>s(F).push(`/main/uat/${D.row.task_id}`)},{default:l(()=>[yr]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),e("div",Dr,[t(U,{background:"",style:{"margin-right":"-10px"},layout:"total ,prev, pager, next",total:o.value,"page-size":s(i).pageSize,onCurrentChange:v},null,8,["total","page-size"])])])}}});var Cr=Z(Br,[["__scopeId","data-v-fe216916"]]);const at=a=>(ae("data-v-ccc598b2"),a=a(),ue(),a),xr={class:"apply-test"},kr={class:"test-operate"},Sr={class:"write-dialog"},jr={class:"write-child"},Tr=at(()=>e("span",{class:"label"},"\u4EFB\u52A1\u53F7",-1)),Vr={class:"text"},Ir={class:"write-child"},Mr=at(()=>e("span",{class:"label"},"\u90E8\u7F72\u72B6\u6001",-1)),Ur={class:"text"},zr=B("\u67E5\u8BE2"),Pr=B("\u6E05\u7A7A"),Qr={class:"test-list"},Nr={style:{"font-size":"14px","font-weight":"700",color:"#888"}},Rr={style:{color:"#888","font-size":"14px"}},Hr={style:{color:"#888","font-size":"14px"}},Lr=B("\u8BE6\u60C5"),Yr={class:"pagination"},Or=X({setup(a){const m=de(),F=me(),i=P({task_id:"",releaseStatus:"99",status:"99",pageIndex:1,pageSize:20}),o=z(0),p=P([]);se(()=>{V(),b()});const f=P([]);function y(d){let u={};u=f.find(g=>g.uid===d.uid);let c={Ing:!1,QASign:"",PMSign:"",QAType:"",PMType:"",QAColor:"#888",PMColor:"#888"};return u&&(c={Ing:!0,QASign:u.QASignStatus===0?"QA\u786E\u8BA4\u4E2D":u.QASignStatus===1?"QA\u5DF2\u786E\u8BA4":"QA\u5DF2\u62D2\u7EDD",PMSign:u.PMSignStatus===0?"PM\u786E\u8BA4\u4E2D":u.PMSignStatus===1?"PM\u5DF2\u786E\u8BA4":"PM\u5DF2\u62D2\u7EDD",QAType:u.QASignStatus===0?"":u.QASignStatus===1?"success":"danger",PMType:u.PMSignStatus===0?"":u.PMSignStatus===1?"success":"danger",QAColor:u.QASignStatus===0?"#5468ff":u.QASignStatus===1?"#32CD32":"red",PMColor:u.PMSignStatus===0?"#5468ff":u.PMSignStatus===1?"#32CD32":"red"}),c}function I(d){const u=p.find(c=>c.job_id===d);return u==null?void 0:u.name}async function V(){const d=await Fe();if(d.code===200){const u=d.data;p.splice(0,p.length),p.push(...u)}}function x(){let d={task_id:"",releaseStatus:"99",status:"99",pageIndex:1,pageSize:10};for(const u in d)i[u]=d[u];b()}function v(d){i.pageIndex=d,b()}async function b(){i.releaseStatus||(i.releaseStatus="99"),i.status||(i.status="99"),m.setLoad(!0);const d=await tt(i);m.setLoad(!1),d.code===200&&(f.splice(0,f.length),f.push(...d.data),o.value=d.total)}return(d,u)=>{const c=$("el-input"),g=$("el-col"),r=$("el-option"),_=$("el-select"),w=$("el-button"),k=$("el-table-column"),A=$("el-tag"),M=$("el-table"),U=$("el-pagination");return E(),C("div",xr,[e("div",kr,[e("div",Sr,[t(g,{span:6,class:"write-col"},{default:l(()=>[e("div",jr,[Tr,e("div",Vr,[t(c,{modelValue:s(i).task_id,"onUpdate:modelValue":u[0]||(u[0]=D=>s(i).task_id=D),placeholder:"\u4EFB\u52A1\u5DE5\u5355ID"},null,8,["modelValue"])])])]),_:1}),t(g,{span:6,class:"write-col"},{default:l(()=>[e("div",Ir,[Mr,e("div",Ur,[t(_,{style:{"margin-right":"10px",width:"100%"},modelValue:s(i).releaseStatus,"onUpdate:modelValue":u[1]||(u[1]=D=>s(i).releaseStatus=D),class:"m-2",size:"small"},{default:l(()=>[t(r,{label:"\u5168\u90E8",value:"99"}),t(r,{label:"\u672A\u90E8\u7F72",value:"0"}),t(r,{label:"\u5DF2\u90E8\u7F72",value:"1"})]),_:1},8,["modelValue"])])])]),_:1}),t(g,{span:6,class:"write-col"},{default:l(()=>[t(w,{type:"primary",onClick:b},{default:l(()=>[zr]),_:1}),t(w,{type:"success",onClick:x},{default:l(()=>[Pr]),_:1})]),_:1})])]),e("div",Qr,[t(M,{data:s(f),style:{width:"100%"}},{default:l(()=>[t(k,{label:"\u9879\u76EE","min-width":"200"},{default:l(D=>[e("span",Nr,n(D.row.project.name),1)]),_:1}),t(k,{label:"\u4EFB\u52A1\u53F7","min-width":"120"},{default:l(D=>[e("span",null,n(D.row.task_id),1)]),_:1}),t(k,{label:"commit_id","min-width":"120"},{default:l(D=>[e("span",null,n(D.row.commit_id),1)]),_:1}),t(k,{label:"QA\u6D41\u7A0B","min-width":"120"},{default:l(D=>[t(A,{class:"mx-1",style:{"margin-right":"5px"},effect:"dark",type:y(D.row).QAType},{default:l(()=>[B(n(y(D.row).QASign),1)]),_:2},1032,["type"])]),_:1}),t(k,{label:"PM\u6D41\u7A0B","min-width":"120"},{default:l(D=>[t(A,{style:{"margin-left":"5px"},class:"mx-1",effect:"dark",type:y(D.row).PMType},{default:l(()=>[B(n(y(D.row).PMSign),1)]),_:2},1032,["type"])]),_:1}),t(k,{label:"\u90E8\u7F72\u72B6\u6001","min-width":"120"},{default:l(D=>[e("span",{style:ne({fontSize:"14px",color:D.row.releaseStatus?"#409eff":"#888"})},n(D.row.releaseStatus==="1"?"\u5DF2\u90E8\u7F72":"\u672A\u90E8\u7F72"),5)]),_:1}),t(k,{label:"\u521B\u5EFA\u8005","min-width":"120"},{default:l(D=>[e("span",Rr,n(I(D.row.createUserId)),1)]),_:1}),t(k,{label:"\u521B\u5EFA\u65F6\u95F4","min-width":"150"},{default:l(D=>[e("span",Hr,n(s(ee)("YY-mm-dd HH:MM:SS",D.row.date)),1)]),_:1}),t(k,{label:"\u64CD\u4F5C",width:"80",fixed:"right"},{default:l(D=>[t(w,{type:"text",onClick:O=>s(F).push(`/main/prod/${D.row.task_id}`)},{default:l(()=>[Lr]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),e("div",Yr,[t(U,{background:"",style:{"margin-right":"-10px"},layout:"total ,prev, pager, next",total:o.value,"page-size":s(i).pageSize,onCurrentChange:v},null,8,["total","page-size"])])])}}});var Gr=Z(Or,[["__scopeId","data-v-ccc598b2"]]);const ie=a=>(ae("data-v-4900531c"),a=a(),ue(),a),Wr={class:"test-details"},Kr={class:"test-task-scroll"},Jr={class:"task-info"},qr={class:"write-dialog"},Xr=ie(()=>e("div",{class:"write-title"},[e("span",null,"\u4EFB\u52A1\u57FA\u7840\u4FE1\u606F")],-1)),Zr={class:"write-child"},e_=ie(()=>e("span",{class:"label"},"\u9879\u76EE\u540D",-1)),t_={class:"text"},s_={class:"write-child"},l_=ie(()=>e("span",{class:"label"},"\u9879\u76EE\u63CF\u8FF0",-1)),o_={class:"text"},a_={class:"write-child"},u_=ie(()=>e("span",{class:"label"},"\u7248\u672C\u53F7",-1)),n_={class:"text"},i_={class:"write-child"},c_=ie(()=>e("span",{class:"label"},"\u4EFB\u52A1ID",-1)),d_={class:"text"},r_={class:"write-child"},__=ie(()=>e("span",{class:"label"},"\u4EFB\u52A1\u65F6\u95F4",-1)),p_={class:"text"},m_={class:"write-child"},f_=ie(()=>e("span",{class:"label"},"\u6784\u5EFA\u65F6\u95F4",-1)),h_={class:"text"},v_={class:"write-child"},g_=ie(()=>e("span",{class:"label"},"commit_id",-1)),E_={class:"text"},F_={class:"write-child"},w_=ie(()=>e("span",{class:"label"},"\u8D44\u6E90\u5927\u5C0F",-1)),A_={class:"text"},b_={class:"write-child"},$_=ie(()=>e("span",{class:"label"},"\u6D4B\u8BD5\u4EBA\u5458",-1)),y_={class:"text"},D_={class:"write-child"},B_=ie(()=>e("span",{class:"label"},"\u9879\u76EE\u8D1F\u8D23\u4EBA",-1)),C_={class:"text"},x_={class:"write-child"},k_=ie(()=>e("span",{class:"label"},"\u5F00\u53D1\u4EBA\u5458",-1)),S_={class:"text"},j_={class:"task-info"},T_={class:"write-dialog"},V_=ie(()=>e("div",{class:"write-title"},[e("span",null,"\u9879\u76EE\u90E8\u7F72")],-1)),I_={class:"write-child",style:{"padding-left":"80px"}},M_=ie(()=>e("span",{class:"label",style:{width:"80px"}},"\u90E8\u7F72\u72B6\u6001",-1)),U_={class:"text"},z_={class:"write-child",style:{"padding-left":"80px"}},P_=ie(()=>e("span",{class:"label",style:{width:"80px"}},"\u90E8\u7F72\u65F6\u95F4",-1)),Q_={class:"text"},N_={class:"write-child",style:{"padding-left":"80px"}},R_=ie(()=>e("span",{class:"label",style:{width:"80px"}},"\u4EFB\u52A1\u72B6\u6001",-1)),H_={class:"text"},L_={class:"write-child",style:{"padding-left":"80px"}},Y_=ie(()=>e("span",{class:"label",style:{width:"80px"}},"\u5BA1\u6279\u65F6\u95F4",-1)),O_={class:"text"},G_={class:"write-child",style:{"padding-left":"80px"}},W_=ie(()=>e("span",{class:"label",style:{width:"80px"}},"\u6D4B\u8BD5\u8BB0\u5F55",-1)),K_={class:"textarea"},J_=["disabled"],q_={class:"write-child",style:{"padding-left":"80px"}},X_=ie(()=>e("span",{class:"label",style:{width:"80px"}},"\u73AF\u5883\u64CD\u4F5C",-1)),Z_={class:"text"},ep=B(" \u90E8\u7F72\u7248\u672C"),tp=B("\u6D4B\u8BD5\u901A\u8FC7"),sp=B("\u6D4B\u8BD5\u9000\u56DE"),lp=X({setup(a){const m=de();me();const F=Ce(),i=z(!1);z(!0),se(async()=>{await I(),v()});const o=P({}),p=P([]);async function f(d){if(!m.permission(o.project,["qa"])){S.warning("\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3");return}if(o.reason.length<5){S.warning("\u6D4B\u8BD5\u8BB0\u5F55\u4E3A\u7A7A\u6216\u4F4E\u4E8E5\u4E2A\u5B57\u7B26\uFF0C\u8BF7\u586B\u5199\u6D4B\u8BD5\u8BB0\u5F55!");return}xe.confirm("\u4F60\u5F53\u524D\u7684\u64CD\u4F5C\u5C06\u4F1A\u76F4\u63A5\u7ED3\u675F\u5F53\u524D\u5DE5\u5355\u7684\u4EFB\u52A1\u72B6\u6001\uFF0C\u786E\u8BA4\u64CD\u4F5C\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(async()=>{i.value=!0;const u=await je({task_id:o.task_id,params:{reason:o.reason,status:d,taskEndTime:Math.round(new Date)},env:"TEST"});let c=setTimeout(()=>{clearTimeout(c),i.value=!1},500);u.code===200?S.success("\u6570\u636E\u63D0\u4EA4\u6210\u529F"):S.error("\u6570\u636E\u63D0\u4EA4\u5931\u8D25"),I()}).catch(()=>{})}async function y(){if(!m.permission(o.project,["qa"])){S.warning("\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3");return}xe.confirm(`\u5F53\u524D\u9879\u76EE\u3010${o.project.name}\u3011\u8D44\u6E90\u3010${o.commit_id}\u3011\uFF0C\u786E\u8BA4\u90E8\u7F72\uFF1F`,"\u9879\u76EE\u90E8\u7F72\u3010TEST\u3011",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(async()=>{i.value=!0,(await Nt({id:o.project_id,uid:o.uid,release_id:o.release_id})).code===200?(await je({task_id:o.task_id,params:{releaseStatus:"1",releaseTime:Math.round(new Date)},env:"TEST"})).code===200?S.success("\u90E8\u7F72\u6210\u529F"):S.error("\u90E8\u7F72\u5931\u8D25"):S.error("\u90E8\u7F72\u5931\u8D25"),i.value=!1,I()}).catch(()=>{})}async function I(){const d=await Gt({task_id:F.params.id});if(d.code===200){let u=d.data||{};for(const c in u)o[c]=u[c]}}function V(d){if(d.length<1)return"";let u=[];return d.forEach(c=>{const g=p.find(r=>r.job_id===c);u.push(g==null?void 0:g.name)}),u.join("\u3001")}function x(d){const u=p.find(c=>c.job_id===d);return u==null?void 0:u.name}async function v(){const d=await Fe();if(d.code===200){const u=d.data;p.splice(0,p.length),p.push(...u)}}function b(d){let u={text:"\u6D4B\u8BD5\u4E2D",type:""};switch(d){case"0":u.text="\u6D4B\u8BD5\u4E2D",u.type="info";break;case"1":u.text="\u6D4B\u8BD5\u901A\u8FC7",u.type="success";break;case"-1":u.text="\u6D4B\u8BD5\u9000\u56DE",u.type="danger";break}return u}return(d,u)=>{const c=$("el-col"),g=$("el-button");return E(),C("div",Wr,[e("div",Kr,[e("div",Jr,[e("div",qr,[Xr,t(c,{span:6,class:"write-col"},{default:l(()=>{var r;return[e("div",Zr,[e_,e("div",t_,[e("span",null,n((r=s(o).project)==null?void 0:r.name),1)])])]}),_:1}),t(c,{span:18,class:"write-col"},{default:l(()=>{var r;return[e("div",s_,[l_,e("div",o_,[e("span",null,n((r=s(o).project)==null?void 0:r.describe),1)])])]}),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",a_,[u_,e("div",n_,[e("span",null,n(s(o).uid),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",i_,[c_,e("div",d_,[e("span",null,n(s(o).task_id),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",r_,[__,e("div",p_,[e("span",null,n(s(ee)("YY-mm-dd HH:MM:SS",s(o).date)),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",m_,[f_,e("div",h_,[e("span",null,n(s(ee)("YY-mm-dd HH:MM:SS",s(o).build_date)),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",v_,[g_,e("div",E_,[e("span",null,n(s(o).commit_id),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",F_,[w_,e("div",A_,[e("span",null,n(s(we)(s(o).size)),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>{var r;return[e("div",b_,[$_,e("div",y_,[e("span",null,n(x((r=s(o).project)==null?void 0:r.qa)),1)])])]}),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>{var r;return[e("div",D_,[B_,e("div",C_,[e("span",null,n(x((r=s(o).project)==null?void 0:r.pm)),1)])])]}),_:1}),t(c,{span:24,class:"write-col"},{default:l(()=>{var r;return[e("div",x_,[k_,e("div",S_,[e("span",null,n(s(o).devs?V((r=s(o).project)==null?void 0:r.devs):"--"),1)])])]}),_:1})])]),e("div",j_,[e("div",T_,[V_,t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",I_,[M_,e("div",U_,[e("span",null,n(s(o).releaseStatus==="1"?"\u5DF2\u90E8\u7F72":"\u672A\u90E8\u7F72"),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",z_,[P_,e("div",Q_,[e("span",null,n(s(o).releaseTime?s(ee)("YY-mm-dd HH:MM:SS",s(o).releaseTime):"--"),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",N_,[R_,e("div",H_,[e("span",null,n(b(s(o).status).text),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",L_,[Y_,e("div",O_,[e("span",null,n(s(o).taskEndTime?s(ee)("YY-mm-dd HH:MM:SS",s(o).taskEndTime):"--"),1)])])]),_:1}),t(c,{span:24,class:"write-col"},{default:l(()=>[e("div",G_,[W_,e("div",K_,[ge(e("textarea",{disabled:s(o).status!="0","onUpdate:modelValue":u[0]||(u[0]=r=>s(o).reason=r),placeholder:"\u8BF7\u586B\u5199\u6D4B\u8BD5\u8BB0\u5F55/\u9000\u56DE\u539F\u56E0"},null,8,J_),[[Ke,s(o).reason]])])])]),_:1}),s(o).status==="0"?(E(),H(c,{key:0,span:24,class:"write-col"},{default:l(()=>[e("div",q_,[X_,e("div",Z_,[s(o).releaseStatus==="0"?(E(),H(g,{key:0,disabled:!s(m).permission(s(o).project,["dev"]),type:"warning",onClick:y},{default:l(()=>[ep]),_:1},8,["disabled"])):J("",!0),s(o).status==="0"?(E(),H(g,{key:1,disabled:!s(m).permission(s(o).project,["qa"]),onClick:u[1]||(u[1]=r=>f("1"))},{default:l(()=>[tp]),_:1},8,["disabled"])):J("",!0),s(o).status==="0"?(E(),H(g,{key:2,disabled:!s(m).permission(s(o).project,["qa"]),onClick:u[2]||(u[2]=r=>f("-1"))},{default:l(()=>[sp]),_:1},8,["disabled"])):J("",!0)])])]),_:1})):J("",!0)])])])])}}});var op=Z(lp,[["__scopeId","data-v-4900531c"]]);const ce=a=>(ae("data-v-40222e98"),a=a(),ue(),a),ap={class:"test-details"},up={class:"test-task-scroll"},np={class:"task-info"},ip={class:"write-dialog"},cp=ce(()=>e("div",{class:"write-title"},[e("span",null,"\u4EFB\u52A1\u57FA\u7840\u4FE1\u606F")],-1)),dp={class:"write-child"},rp=ce(()=>e("span",{class:"label"},"\u9879\u76EE\u540D",-1)),_p={class:"text"},pp={class:"write-child"},mp=ce(()=>e("span",{class:"label"},"\u9879\u76EE\u63CF\u8FF0",-1)),fp={class:"text"},hp={class:"write-child"},vp=ce(()=>e("span",{class:"label"},"\u7248\u672C\u53F7",-1)),gp={class:"text"},Ep={class:"write-child"},Fp=ce(()=>e("span",{class:"label"},"\u4EFB\u52A1ID",-1)),wp={class:"text"},Ap={class:"write-child"},bp=ce(()=>e("span",{class:"label"},"\u4EFB\u52A1\u65F6\u95F4",-1)),$p={class:"text"},yp={class:"write-child"},Dp=ce(()=>e("span",{class:"label"},"\u6784\u5EFA\u65F6\u95F4",-1)),Bp={class:"text"},Cp={class:"write-child"},xp=ce(()=>e("span",{class:"label"},"commit_id",-1)),kp={class:"text"},Sp={class:"write-child"},jp=ce(()=>e("span",{class:"label"},"\u8D44\u6E90\u5927\u5C0F",-1)),Tp={class:"text"},Vp={class:"write-child"},Ip=ce(()=>e("span",{class:"label"},"\u6D4B\u8BD5\u4EBA\u5458",-1)),Mp={class:"text"},Up={class:"write-child"},zp=ce(()=>e("span",{class:"label"},"\u9879\u76EE\u8D1F\u8D23\u4EBA",-1)),Pp={class:"text"},Qp={class:"write-child"},Np=ce(()=>e("span",{class:"label"},"\u5F00\u53D1\u4EBA\u5458",-1)),Rp={class:"text"},Hp={class:"task-info"},Lp={class:"write-dialog"},Yp=ce(()=>e("div",{class:"write-title"},[e("span",null,"\u9879\u76EE\u90E8\u7F72")],-1)),Op={class:"write-child",style:{"padding-left":"80px"}},Gp=ce(()=>e("span",{class:"label",style:{width:"80px"}},"\u90E8\u7F72\u72B6\u6001",-1)),Wp={class:"text"},Kp={class:"write-child",style:{"padding-left":"80px"}},Jp=ce(()=>e("span",{class:"label",style:{width:"80px"}},"\u90E8\u7F72\u65F6\u95F4",-1)),qp={class:"text"},Xp={class:"write-child",style:{"padding-left":"80px"}},Zp=ce(()=>e("span",{class:"label",style:{width:"80px"}},"\u4EFB\u52A1\u72B6\u6001",-1)),e1={class:"text"},t1={class:"write-child",style:{"padding-left":"80px"}},s1=ce(()=>e("span",{class:"label",style:{width:"80px"}},"\u5BA1\u6279\u65F6\u95F4",-1)),l1={class:"text"},o1={class:"write-child",style:{"padding-left":"80px"}},a1=ce(()=>e("span",{class:"label",style:{width:"80px"}},"\u6D4B\u8BD5\u8BB0\u5F55",-1)),u1={class:"textarea"},n1=["disabled"],i1={class:"write-child",style:{"padding-left":"80px"}},c1=ce(()=>e("span",{class:"label",style:{width:"80px"}},"\u73AF\u5883\u64CD\u4F5C",-1)),d1={class:"text"},r1=B(" \u90E8\u7F72\u7248\u672C "),_1=B("UAT\u9A8C\u6536"),p1=B("UAT\u9000\u56DE"),m1=X({setup(a){const m=de();me();const F=Ce(),i=z(!1);se(async()=>{await I(),v()});const o=P({}),p=P([]);async function f(d){if(!m.permission(o.project,["pm"])){S.warning("\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3");return}if(o.reason.length<5){S.warning("UAT\u8BB0\u5F55\u4E3A\u7A7A\u6216\u4F4E\u4E8E5\u4E2A\u5B57\u7B26\uFF0C\u8BF7\u586B\u5199UAT\u8BB0\u5F55!");return}xe.confirm("\u4F60\u5F53\u524D\u7684\u64CD\u4F5C\u5C06\u4F1A\u76F4\u63A5\u7ED3\u675F\u5F53\u524D\u5DE5\u5355\u7684\u4EFB\u52A1\u72B6\u6001\uFF0C\u786E\u8BA4\u64CD\u4F5C\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(async()=>{i.value=!0;const u=await je({task_id:o.task_id,params:{reason:o.reason,status:d,taskEndTime:Math.round(new Date)},env:"UAT"});let c=setTimeout(()=>{clearTimeout(c),i.value=!1},500);u.code===200?S.success("\u6570\u636E\u63D0\u4EA4\u6210\u529F"):S.error("\u6570\u636E\u63D0\u4EA4\u5931\u8D25"),I()}).catch(()=>{})}async function y(){var d;if(!m.permission(o.project,["pm"])){S.warning("\u7528\u6237\u89D2\u8272\u6743\u9650\u4E0D\u8DB3");return}xe.confirm(`\u5F53\u524D\u9879\u76EE\u3010${(d=o.project)==null?void 0:d.name}\u3011\u8D44\u6E90\u3010${o.commit_id}\u3011\uFF0C\u786E\u8BA4\u90E8\u7F72\uFF1F`,"\u9879\u76EE\u90E8\u7F72\u3010UAT\u3011",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(async()=>{i.value=!0,(await Rt({id:o.project_id,uid:o.uid,release_id:o.release_id})).code===200?(await je({task_id:o.task_id,params:{releaseStatus:"1",releaseTime:Math.round(new Date)},env:"UAT"})).code===200?S.success("\u90E8\u7F72\u6210\u529F"):S.error("\u90E8\u7F72\u5931\u8D25"):S.error("\u90E8\u7F72\u5931\u8D25"),i.value=!1,I()}).catch(()=>{})}async function I(){const d=await Wt({task_id:F.params.id});if(d.code===200){let u=d.data||{};for(const c in u)o[c]=u[c]}}function V(d){if(d.length<1)return"";let u=[];return d.forEach(c=>{const g=p.find(r=>r.job_id===c);u.push(g==null?void 0:g.name)}),u.join("\u3001")}function x(d){const u=p.find(c=>c.job_id===d);return u==null?void 0:u.name}async function v(){const d=await Fe();if(d.code===200){const u=d.data;p.splice(0,p.length),p.push(...u)}}function b(d){let u={text:"\u6D4B\u8BD5\u4E2D",type:""};switch(d){case"0":u.text="UAT\u9A8C\u6536\u4E2D",u.type="info";break;case"1":u.text="UAT\u901A\u8FC7",u.type="success";break;case"-1":u.text="UAT\u9000\u56DE",u.type="danger";break}return u}return(d,u)=>{const c=$("el-col"),g=$("el-button"),r=Se("load");return E(),C("div",ap,[e("div",up,[e("div",np,[e("div",ip,[cp,t(c,{span:6,class:"write-col"},{default:l(()=>{var _;return[e("div",dp,[rp,e("div",_p,[e("span",null,n((_=s(o).project)==null?void 0:_.name),1)])])]}),_:1}),t(c,{span:18,class:"write-col"},{default:l(()=>{var _;return[e("div",pp,[mp,e("div",fp,[e("span",null,n((_=s(o).project)==null?void 0:_.describe),1)])])]}),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",hp,[vp,e("div",gp,[e("span",null,n(s(o).uid),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",Ep,[Fp,e("div",wp,[e("span",null,n(s(o).task_id),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",Ap,[bp,e("div",$p,[e("span",null,n(s(ee)("YY-mm-dd HH:MM:SS",s(o).date)),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",yp,[Dp,e("div",Bp,[e("span",null,n(s(ee)("YY-mm-dd HH:MM:SS",s(o).build_date)),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",Cp,[xp,e("div",kp,[e("span",null,n(s(o).commit_id),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",Sp,[jp,e("div",Tp,[e("span",null,n(s(we)(s(o).size)),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>{var _;return[e("div",Vp,[Ip,e("div",Mp,[e("span",null,n(x((_=s(o).project)==null?void 0:_.qa)),1)])])]}),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>{var _;return[e("div",Up,[zp,e("div",Pp,[e("span",null,n(x((_=s(o).project)==null?void 0:_.pm)),1)])])]}),_:1}),t(c,{span:24,class:"write-col"},{default:l(()=>{var _;return[e("div",Qp,[Np,e("div",Rp,[e("span",null,n(s(o).project?V((_=s(o).project)==null?void 0:_.devs):"--"),1)])])]}),_:1})])]),ge((E(),C("div",Hp,[e("div",Lp,[Yp,t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",Op,[Gp,e("div",Wp,[e("span",null,n(s(o).releaseStatus==="1"?"\u5DF2\u90E8\u7F72":"\u672A\u90E8\u7F72"),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",Kp,[Jp,e("div",qp,[e("span",null,n(s(o).releaseTime?s(ee)("YY-mm-dd HH:MM:SS",s(o).releaseTime):"--"),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",Xp,[Zp,e("div",e1,[e("span",null,n(b(s(o).status).text),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",t1,[s1,e("div",l1,[e("span",null,n(s(o).taskEndTime?s(ee)("YY-mm-dd HH:MM:SS",s(o).taskEndTime):"--"),1)])])]),_:1}),t(c,{span:24,class:"write-col"},{default:l(()=>[e("div",o1,[a1,e("div",u1,[ge(e("textarea",{disabled:s(o).status!="0","onUpdate:modelValue":u[0]||(u[0]=_=>s(o).reason=_),placeholder:"\u8BF7\u586B\u5199\u6D4B\u8BD5\u8BB0\u5F55/\u9000\u56DE\u539F\u56E0"},null,8,n1),[[Ke,s(o).reason]])])])]),_:1}),s(o).status==="0"?(E(),H(c,{key:0,span:24,class:"write-col"},{default:l(()=>[e("div",i1,[c1,e("div",d1,[s(o).releaseStatus==="0"?(E(),H(g,{key:0,type:"warning",onClick:y},{default:l(()=>[r1]),_:1})):J("",!0),s(o).status==="0"?(E(),H(g,{key:1,onClick:u[1]||(u[1]=_=>f("1"))},{default:l(()=>[_1]),_:1})):J("",!0),s(o).status==="0"?(E(),H(g,{key:2,onClick:u[2]||(u[2]=_=>f("-1"))},{default:l(()=>[p1]),_:1})):J("",!0)])])]),_:1})):J("",!0)])])),[[r,i.value]])])])}}});var f1=Z(m1,[["__scopeId","data-v-40222e98"]]);const oe=a=>(ae("data-v-1df4bfb0"),a=a(),ue(),a),h1={class:"test-details"},v1={class:"test-task-scroll"},g1={class:"task-info"},E1={class:"write-dialog"},F1=oe(()=>e("div",{class:"write-title"},[e("span",null,"\u4EFB\u52A1\u57FA\u7840\u4FE1\u606F")],-1)),w1={class:"write-child"},A1=oe(()=>e("span",{class:"label"},"\u9879\u76EE\u540D",-1)),b1={class:"text"},$1={class:"write-child"},y1=oe(()=>e("span",{class:"label"},"\u9879\u76EE\u63CF\u8FF0",-1)),D1={class:"text"},B1={class:"write-child"},C1=oe(()=>e("span",{class:"label"},"\u7248\u672C\u53F7",-1)),x1={class:"text"},k1={class:"write-child"},S1=oe(()=>e("span",{class:"label"},"\u4EFB\u52A1ID",-1)),j1={class:"text"},T1={class:"write-child"},V1=oe(()=>e("span",{class:"label"},"\u4EFB\u52A1\u65F6\u95F4",-1)),I1={class:"text"},M1={class:"write-child"},U1=oe(()=>e("span",{class:"label"},"\u6784\u5EFA\u65F6\u95F4",-1)),z1={class:"text"},P1={class:"write-child"},Q1=oe(()=>e("span",{class:"label"},"commit_id",-1)),N1={class:"text"},R1={class:"write-child"},H1=oe(()=>e("span",{class:"label"},"\u8D44\u6E90\u5927\u5C0F",-1)),L1={class:"text"},Y1={class:"write-child"},O1=oe(()=>e("span",{class:"label"},"\u6D4B\u8BD5\u4EBA\u5458",-1)),G1={class:"text"},W1={class:"write-child"},K1=oe(()=>e("span",{class:"label"},"\u9879\u76EE\u8D1F\u8D23\u4EBA",-1)),J1={class:"text"},q1={class:"write-child"},X1=oe(()=>e("span",{class:"label"},"\u5F00\u53D1\u4EBA\u5458",-1)),Z1={class:"text"},e0={class:"task-info","element-loading-background":"rgba(0, 0, 0, 0.8)"},t0={class:"write-dialog"},s0=oe(()=>e("div",{class:"write-title"},[e("span",null,"\u9879\u76EE\u90E8\u7F72")],-1)),l0={class:"write-child",style:{"padding-left":"90px"}},o0=oe(()=>e("span",{class:"label",style:{width:"80px"}},"\u90E8\u7F72\u72B6\u6001",-1)),a0={class:"text"},u0={class:"write-child",style:{"padding-left":"90px"}},n0=oe(()=>e("span",{class:"label",style:{width:"80px"}},"\u90E8\u7F72\u65F6\u95F4",-1)),i0={class:"text"},c0={class:"write-child",style:{"padding-left":"90px"}},d0=oe(()=>e("span",{class:"label",style:{width:"80px"}},"QA\u7B7E\u7F72\u65F6\u95F4",-1)),r0={class:"text"},_0={class:"write-child",style:{"padding-left":"90px"}},p0=oe(()=>e("span",{class:"label",style:{width:"80px"}},"PM\u7B7E\u7F72\u65F6\u95F4",-1)),m0={class:"text"},f0={class:"write-child",style:{"padding-left":"90px"}},h0=oe(()=>e("span",{class:"label",style:{width:"80px"}},"QA\u7B7E\u7F72\u72B6\u6001",-1)),v0={class:"text"},g0={class:"write-child",style:{"padding-left":"90px"}},E0=oe(()=>e("span",{class:"label",style:{width:"80px"}},"PM\u7B7E\u7F72\u72B6\u6001",-1)),F0={class:"text"},w0={class:"write-child",style:{"padding-left":"90px"}},A0=oe(()=>e("span",{class:"label",style:{width:"80px"}},"\u73AF\u5883\u64CD\u4F5C",-1)),b0={class:"text"},$0=B(" \u9879\u76EE\u90E8\u7F72"),y0=X({setup(a){const m=de();me();const F=Ce(),i=z(!1);z(!0),se(async()=>{await I(),v()});const o=P({}),p=P([]);async function f(d,u){let c={};if(u==="QA"){if(!m.permission(o.project,["qa"])){S.warning("\u6743\u9650\u4E0D\u8DB3");return}c.QASignStatus=d,c.QASignDate=Math.round(new Date),c.QASignReason=o.reason}else if(u==="PM"){if(!m.permission(o.project,["pm"])){S.warning("\u6743\u9650\u4E0D\u8DB3");return}c.PMSignStatus=d,c.PMSignDate=Math.round(new Date)}else return;i.value=!0;const g=await je({task_id:o.task_id,params:c,env:"PROD"});let r=setTimeout(()=>{clearTimeout(r),i.value=!1},500);g.code===200?S.success("\u6570\u636E\u63D0\u4EA4\u6210\u529F"):S.error("\u6570\u636E\u63D0\u4EA4\u5931\u8D25"),I()}async function y(){if(!m.permission(o.project,["dev"])){S.warning("\u6743\u9650\u4E0D\u8DB3");return}xe.confirm(`\u5F53\u524D\u9879\u76EE\u3010${o.project.name}\u3011\u8D44\u6E90\u3010${o.commit_id}\u3011\uFF0C\u786E\u8BA4\u90E8\u7F72\uFF1F`,"\u9879\u76EE\u90E8\u7F72\u3010PROD\u3011",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(async()=>{i.value=!0;const d=await Ht({id:o.project_id,uid:o.uid,release_id:o.release_id});d.code===200?(await je({task_id:o.task_id,params:{releaseStatus:"1",releaseTime:Math.round(new Date)},env:"PROD"})).code===200?S.success("\u90E8\u7F72\u6210\u529F"):S.error(`\u3010\u90E8\u7F72\u6210\u529F\u3011\uFF0C\u4F46\u662F\u5DE5\u5355\u6570\u636E\u66F4\u65B0\u5931\u8D25\uFF1A${d.msg}`):S.error(`\u3010\u90E8\u7F72\u5931\u8D25\u3011${d.msg}`),i.value=!1,I()}).catch(()=>{})}async function I(){const d=await Kt({task_id:F.params.id});if(d.code===200){let u=d.data||{};for(const c in u)o[c]=u[c];console.log(o)}}function V(d){if(d.length<1)return"";let u=[];return d.forEach(c=>{const g=p.find(r=>r.job_id===c);u.push(g==null?void 0:g.name)}),u.join("\u3001")}function x(d){const u=p.find(c=>c.job_id===d);return u==null?void 0:u.name}async function v(){const d=await Fe();if(d.code===200){const u=d.data;p.splice(0,p.length),p.push(...u)}}function b(d){let u={text:"\u786E\u8BA4\u4E2D",type:""};switch(d){case 0:u.text="\u786E\u8BA4\u4E2D",u.type="info";break;case 1:u.text="\u540C\u610F",u.type="success";break;case 2:u.text="\u62D2\u7EDD",u.type="danger";break}return u}return(d,u)=>{const c=$("el-col"),g=$("el-button"),r=$("el-popconfirm"),_=Se("load");return E(),C("div",h1,[e("div",v1,[e("div",g1,[e("div",E1,[F1,t(c,{span:6,class:"write-col"},{default:l(()=>{var w;return[e("div",w1,[A1,e("div",b1,[e("span",null,n((w=s(o).project)==null?void 0:w.name),1)])])]}),_:1}),t(c,{span:18,class:"write-col"},{default:l(()=>{var w;return[e("div",$1,[y1,e("div",D1,[e("span",null,n((w=s(o).project)==null?void 0:w.describe),1)])])]}),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",B1,[C1,e("div",x1,[e("span",null,n(s(o).uid),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",k1,[S1,e("div",j1,[e("span",null,n(s(o).task_id),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",T1,[V1,e("div",I1,[e("span",null,n(s(ee)("YY-mm-dd HH:MM:SS",s(o).date)),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",M1,[U1,e("div",z1,[e("span",null,n(s(ee)("YY-mm-dd HH:MM:SS",s(o).build_date)),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",P1,[Q1,e("div",N1,[e("span",null,n(s(o).commit_id),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",R1,[H1,e("div",L1,[e("span",null,n(s(we)(s(o).size)),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>{var w;return[e("div",Y1,[O1,e("div",G1,[e("span",null,n(x((w=s(o).project)==null?void 0:w.qa)),1)])])]}),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>{var w;return[e("div",W1,[K1,e("div",J1,[e("span",null,n(x((w=s(o).project)==null?void 0:w.pm)),1)])])]}),_:1}),t(c,{span:24,class:"write-col"},{default:l(()=>{var w;return[e("div",q1,[X1,e("div",Z1,[e("span",null,n(s(o).devs?V((w=s(o).project)==null?void 0:w.devs):"--"),1)])])]}),_:1})])]),ge((E(),C("div",e0,[e("div",t0,[s0,t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",l0,[o0,e("div",a0,[e("span",null,n(s(o).releaseStatus==="1"?"\u5DF2\u90E8\u7F72":"\u672A\u90E8\u7F72"),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",u0,[n0,e("div",i0,[e("span",null,n(s(o).releaseTime?s(ee)("YY-mm-dd HH:MM:SS",s(o).releaseTime):"--"),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",c0,[d0,e("div",r0,[e("span",null,n(s(o).QASignDate?s(ee)("YY-mm-dd HH:MM:SS",s(o).QASignDate):"--"),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",_0,[p0,e("div",m0,[e("span",null,n(s(o).PMSignDate?s(ee)("YY-mm-dd HH:MM:SS",s(o).PMSignDate):"--"),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",f0,[h0,e("div",v0,[e("span",null,n(b(s(o).QASignStatus).text),1)])])]),_:1}),t(c,{span:6,class:"write-col"},{default:l(()=>[e("div",g0,[E0,e("div",F0,[e("span",null,n(b(s(o).PMSignStatus).text),1)])])]),_:1}),s(o).status==="0"?(E(),H(c,{key:0,span:24,class:"write-col"},{default:l(()=>[e("div",w0,[A0,e("div",b0,[t(r,{onConfirm:u[0]||(u[0]=w=>f(1,"QA")),onCancel:u[1]||(u[1]=w=>f(2,"QA")),title:"\u60A8\u6B63\u5728\u7B7E\u7F72\u8BE5\u7248\u672C\u751F\u4EA7\u4E0A\u7EBF\u6D41\u7A0B",confirmButtonText:"\u540C\u610F",cancelButtonText:"\u62D2\u7EDD"},{reference:l(()=>[t(g,{disabled:!!s(o).QASignStatus},{default:l(()=>[B(n(`QA${s(o).QASignStatus===0?"\u7B7E\u7F72":b(s(o).QASignStatus).text}`),1)]),_:1},8,["disabled"])]),_:1}),t(r,{onConfirm:u[2]||(u[2]=w=>f(1,"PM")),onCancel:u[3]||(u[3]=w=>f(2,"PM")),title:"\u60A8\u6B63\u5728\u7B7E\u7F72\u8BE5\u7248\u672C\u751F\u4EA7\u4E0A\u7EBF\u6D41\u7A0B",confirmButtonText:"\u540C\u610F",cancelButtonText:"\u62D2\u7EDD"},{reference:l(()=>[t(g,{disabled:!!s(o).PMSignStatus},{default:l(()=>[B(n(`PM${s(o).PMSignStatus===0?"\u7B7E\u7F72":b(s(o).PMSignStatus).text}`),1)]),_:1},8,["disabled"])]),_:1}),s(o).releaseStatus!="1"?(E(),H(g,{key:0,disabled:s(o).PMSignStatus!=1||s(o).QASignStatus!=1,type:"warning",onClick:y},{default:l(()=>[$0]),_:1},8,["disabled"])):J("",!0)])])]),_:1})):J("",!0)])])),[[_,i.value]])])])}}});var D0=Z(y0,[["__scopeId","data-v-1df4bfb0"]]);const B0=a=>(ae("data-v-15c1f826"),a=a(),ue(),a),C0={class:"login-wrap"},x0={class:"login"},k0=B0(()=>e("div",{class:"login-top"},[e("span",null,"PACKAGE-CI"),e("span",null,"\u4E13\u6CE8\u4E8E\u524D\u7AEF\u8FD0\u7EF4\u5DE5\u4F5C\uFF0C\u5168\u65B0\u7684Workflow\u3002")],-1)),S0={class:"login-info"},j0=B("\u767B\u9646"),T0=X({setup(a){me();const m=P({account:"",password:"",valid:1});Ye(()=>{window.removeEventListener("keyup",F)}),window.addEventListener("keyup",F);function F(o){o.key==="Enter"&&i()}async function i(){if(!m.account||!m.password){S.error("\u53C2\u6570\u4E0D\u5B8C\u6574");return}const o=await At(m);o.code===200&&(window.localStorage.setItem("token",JSON.stringify(o.data)),window.location.href="/")}return(o,p)=>{const f=$("el-input"),y=$("el-checkbox"),I=$("el-button");return E(),C("div",C0,[e("div",x0,[k0,e("div",S0,[t(f,{modelValue:s(m).account,"onUpdate:modelValue":p[0]||(p[0]=V=>s(m).account=V),placeholder:"\u8D26\u53F7"},null,8,["modelValue"]),t(f,{type:"password","show-password":"",modelValue:s(m).password,"onUpdate:modelValue":p[1]||(p[1]=V=>s(m).password=V),placeholder:"\u5BC6\u7801"},null,8,["modelValue"]),t(y,{modelValue:s(m).valid,"onUpdate:modelValue":p[2]||(p[2]=V=>s(m).valid=V),"true-label":10,"false-label":1,style:{"margin-top":"15px"},label:"10\u5929\u5185\u514D\u767B\u5F55",size:"large"},null,8,["modelValue"]),t(I,{onClick:i,style:{"margin-top":"15px"},type:"primary"},{default:l(()=>[j0]),_:1})])])])}}});var V0=Z(T0,[["__scopeId","data-v-15c1f826"]]);const De=a=>(ae("data-v-b5de72a8"),a=a(),ue(),a),I0={class:"server-details"},M0={class:"server-system"},U0={class:"server-child"},z0=De(()=>e("span",{class:"label"},"\u4E3B\u673AIP",-1)),P0={class:"text"},Q0={class:"server-child"},N0=De(()=>e("span",{class:"label"},"\u4E3B\u673A\u7AEF\u53E3",-1)),R0={class:"text"},H0={class:"server-child"},L0=De(()=>e("span",{class:"label"},"CPU\u6838\u5FC3\u6570",-1)),Y0={class:"text"},O0={class:"server-child"},G0=De(()=>e("span",{class:"label"},"\u5185\u5B58",-1)),W0={class:"text"},K0={class:"server-child"},J0=De(()=>e("span",{class:"label"},"\u4E3B\u673A\u540D\u79F0",-1)),q0={class:"text"},X0={class:"server-child"},Z0=De(()=>e("span",{class:"label"},"\u7CFB\u7EDF",-1)),e5={class:"text"},t5={class:"server-child"},s5=De(()=>e("span",{class:"label"},"CPU\u67B6\u6784",-1)),l5={class:"text"},o5={class:"server-child"},a5={class:"label"},u5={class:"text"},n5={class:"process-list"},i5={class:"write-dialog"},c5={class:"write-header"},d5=De(()=>e("div",{class:"write-title"},[e("span",null,"\u670D\u52A1\u8FDB\u7A0B\u5217\u8868")],-1)),r5={class:"write-operate"},_5=B("\u5237\u65B0\u8FDB\u7A0B\u6C60"),p5=B("\u51BB\u7ED3\u8FDB\u7A0B\u6C60"),m5={style:{color:"#555","font-size":"12px"}},f5={style:{color:"#555","font-size":"14px"}},h5={style:{color:"#555","font-size":"12px"}},v5={style:{color:"#555","font-size":"12px"}},g5=["href"],E5={style:{color:"#555","font-size":"12px"}},F5=B("\u542F\u52A8 "),w5=B("\u505C\u6B62 "),A5=X({setup(a){const m=Ce(),F=P([]),i=P({cpus:[],totalmem:0,arch:"",platform:"",disk:[]}),o=z(!1),p=z(!1);se(()=>{x()});async function f(v){v.kill_loading=!0;const b=await ts({ip:i.ip,id:v.id});v.kill_loading=!1,b.code===200&&(S.success(b.msg),x())}async function y(){o.value=!0;const v=await ss({ip:i.ip});if(v.code===200){S.success(v.msg);let b=setTimeout(()=>{o.value=!1,clearTimeout(b),x()},1e3)}}async function I(){p.value=!0;const v=await ls({ip:i.ip});if(v.code===200){let b=setTimeout(()=>{clearTimeout(b),p.value=!1,S.success(v.msg),x()},1e3)}}async function V(v){v.start_loading=!0;const b=await os({ip:i.ip,id:v.id});v.start_loading=!1,b.code===200&&(S.success(b.msg),x())}async function x(){const v=await es({ip:m.params.ip});if(v.code===200){F.splice(0,F.length),v.process_list.forEach(b=>{b.start_loading=!1,b.kill_loading=!1,F.push(b)});for(const b in v.systemInfo)i[b]=v.systemInfo[b]}}return(v,b)=>{const d=$("el-col"),u=$("el-button"),c=$("el-table-column"),g=$("el-tag"),r=$("el-table");return E(),C("div",I0,[e("div",M0,[t(d,{span:8,class:"server-col"},{default:l(()=>[e("div",U0,[z0,e("div",P0,[e("span",null,n(s(i).ip),1)])])]),_:1}),t(d,{span:8,class:"server-col"},{default:l(()=>[e("div",Q0,[N0,e("div",R0,[e("span",null,n(s(i).port),1)])])]),_:1}),t(d,{span:8,class:"server-col"},{default:l(()=>{var _;return[e("div",H0,[L0,e("div",Y0,[e("span",null,n((_=s(i).cpus)==null?void 0:_.length),1)])])]}),_:1}),t(d,{span:8,class:"server-col"},{default:l(()=>[e("div",O0,[G0,e("div",W0,[e("span",null,n(s(we)(s(i).totalmem)),1)])])]),_:1}),t(d,{span:16,class:"server-col"},{default:l(()=>[e("div",K0,[J0,e("div",q0,[e("span",null,n(s(i).hostname),1)])])]),_:1}),t(d,{span:8,class:"server-col"},{default:l(()=>[e("div",X0,[Z0,e("div",e5,[e("span",null,n(s(i).platform),1)])])]),_:1}),t(d,{span:8,class:"server-col"},{default:l(()=>[e("div",t5,[s5,e("div",l5,[e("span",null,n(s(i).arch),1)])])]),_:1}),(E(!0),C(q,null,te(s(i).cpus,(_,w)=>(E(),H(d,{span:12,class:"server-col",key:w},{default:l(()=>[e("div",o5,[e("span",a5,"CPU\u6838\u5FC3"+n(w+1),1),e("div",u5,[e("span",null,n(_.model),1)])])]),_:2},1024))),128))]),e("div",n5,[e("div",i5,[e("div",c5,[d5,e("div",r5,[t(u,{size:"small",loading:p.value,onClick:I},{default:l(()=>[_5]),_:1},8,["loading"]),t(u,{size:"small",loading:o.value,onClick:y},{default:l(()=>[p5]),_:1},8,["loading"])])]),t(d,{span:24,class:"write-col"},{default:l(()=>[t(r,{data:s(F),style:{width:"100%"}},{default:l(()=>[t(c,{label:"\u8FDB\u7A0BID",width:"180"},{default:l(_=>[e("span",m5,n(_.row.id),1)]),_:1}),t(c,{label:"\u9879\u76EE",width:"180"},{default:l(_=>[e("span",f5,n(_.row.project.name),1)]),_:1}),t(c,{label:"\u73AF\u5883",width:"120"},{default:l(_=>[e("span",h5,n(_.row.env.name),1)]),_:1}),t(c,{label:"\u72B6\u6001",width:"120"},{default:l(_=>[t(g,{size:"small",type:_.row.status?"success":"danger",class:"mx-1",effect:"dark",round:""},{default:l(()=>[B(n(_.row.status?"\u6B63\u5E38":"\u5B95\u673A"),1)]),_:2},1032,["type"])]),_:1}),t(c,{label:"\u7AEF\u53E3",width:"120"},{default:l(_=>[e("span",v5,n(_.row.env.port),1)]),_:1}),t(c,{label:"\u670D\u52A1\u8BBF\u95EE\u5730\u5740",width:"180","show-overflow-tooltip":""},{default:l(_=>[e("a",{class:"process-http",target:"_blank",href:`http://${s(i).ip}:${_.row.env.port}`},n(`${s(i).ip}:${_.row.env.port}`),9,g5)]),_:1}),t(c,{label:"\u9879\u76EE\u63CF\u8FF0","show-overflow-tooltip":""},{default:l(_=>[e("span",E5,n(_.row.project.describe),1)]),_:1}),t(c,{label:"\u64CD\u4F5C",width:"160"},{default:l(_=>[t(u,{disabled:_.row.status,size:"small",loading:_.row.start_loading,onClick:w=>V(_.row)},{default:l(()=>[F5]),_:2},1032,["disabled","loading","onClick"]),t(u,{disabled:!_.row.status,size:"small",loading:_.row.kill_loading,onClick:w=>f(_.row)},{default:l(()=>[w5]),_:2},1032,["disabled","loading","onClick"])]),_:1})]),_:1},8,["data"])]),_:1})])])])}}});var b5=Z(A5,[["__scopeId","data-v-b5de72a8"]]);const $5=[{path:"/main",component:Ml,children:[{path:"/main/project",component:No},{path:"/main/project-members",component:wa},{path:"/main/project/details/:id",component:Nc},{path:"/main/host",component:Qd},{path:"/main/test-task",component:nr},{path:"/main/uat-task",component:Cr},{path:"/main/prod-task",component:Gr},{path:"/main/test/:id",component:op},{path:"/main/uat/:id",component:f1},{path:"/main/prod/:id",component:D0},{path:"/main/host/:ip",component:b5},{path:"",redirect:"/main/project"}]},{path:"/login",component:V0},{path:"",redirect:"/main"}],ut=pt({history:mt(),routes:$5});function y5(){const a=document.createElement("div");return a.innerHTML=`
<div class="file-loading">
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
</div>`,a.className="my-loading",a.style.width="100%",a.style.height="100%",a.style.backgroundColor="rgba(255,255,255,0.5)",a.style.position="absolute",a.style.left="0",a.style.top="0",a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.zIndex="99999",a}function nt(a,m){let F=!1;Array.from(a.children).forEach(o=>{o.className===m&&(F=!0)}),F||a.appendChild(a.vnode)}function D5(a,m){let F=!1;Array.from(a.children).forEach(o=>{o.className===m&&(F=!0)}),F&&a.removeChild(a.vnode)}function B5(a){a.directive("load",{created(m){m.vnode=y5()},mounted(m,F){F.value&&nt(m,"my-loading")},updated(m,F){F.value?nt(m,"my-loading"):D5(m,"my-loading")}})}const Ve=ft(as);B5(Ve);Ve.use(ht());Ve.use(ut);Ve.use(vt);Ve.component("ModalView",Ne);Ve.mount("#app");
//# sourceMappingURL=index.6b9293cd.js.map
